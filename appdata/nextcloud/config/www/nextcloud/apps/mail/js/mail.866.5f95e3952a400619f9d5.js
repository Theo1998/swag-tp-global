/*! For license information please see mail.866.5f95e3952a400619f9d5.js.LICENSE.txt */
(self.webpackChunknextcloud_mail=self.webpackChunknextcloud_mail||[]).push([[866],{72749:function(t,e,n){var r={"./af":50554,"./af.js":50554,"./ar":51634,"./ar.js":51634,"./ast":29303,"./ast.js":29303,"./az":97078,"./az.js":97078,"./bg":80996,"./bg.js":80996,"./bn":48213,"./bn.js":48213,"./bs":3210,"./bs.js":3210,"./ca":89306,"./ca.js":89306,"./cs":35017,"./cs.js":35017,"./da":54505,"./da.js":54505,"./de":88780,"./de-ch":32847,"./de-ch.js":32847,"./de.js":88780,"./el":45374,"./el.js":45374,"./en-au":51920,"./en-au.js":51920,"./en-gb":98203,"./en-gb.js":98203,"./eo":49486,"./eo.js":49486,"./es":81565,"./es.js":81565,"./et":64458,"./et.js":64458,"./eu":48629,"./eu.js":48629,"./fa":96594,"./fa.js":96594,"./fi":17123,"./fi.js":17123,"./fr":34351,"./fr.js":34351,"./gl":57774,"./gl.js":57774,"./gu":4378,"./gu.js":4378,"./he":66007,"./he.js":66007,"./hi":21961,"./hi.js":21961,"./hr":54466,"./hr.js":54466,"./hu":49510,"./hu.js":49510,"./id":38623,"./id.js":38623,"./it":70848,"./it.js":70848,"./ja":2489,"./ja.js":2489,"./jv":4231,"./jv.js":4231,"./km":37113,"./km.js":37113,"./kn":12405,"./kn.js":12405,"./ko":66766,"./ko.js":66766,"./ku":95257,"./ku.js":95257,"./lt":49748,"./lt.js":49748,"./lv":24976,"./lv.js":24976,"./ms":5043,"./ms.js":5043,"./nb":240,"./nb.js":240,"./ne":63923,"./ne.js":63923,"./nl":71195,"./nl.js":71195,"./no":14962,"./no.js":14962,"./oc":26770,"./oc.js":26770,"./pl":10605,"./pl.js":10605,"./pt":18591,"./pt-br":88827,"./pt-br.js":88827,"./pt.js":18591,"./ro":24485,"./ro.js":24485,"./ru":94507,"./ru.js":94507,"./si":98608,"./si.js":98608,"./sk":61075,"./sk.js":61075,"./sl":44240,"./sl.js":44240,"./sq":5097,"./sq.js":5097,"./sr":50849,"./sr-latn":83813,"./sr-latn.js":83813,"./sr.js":50849,"./sv":48888,"./sv.js":48888,"./th":41089,"./th.js":41089,"./tk":10729,"./tk.js":10729,"./tr":15654,"./tr.js":15654,"./tt":5550,"./tt.js":5550,"./ug":34046,"./ug.js":34046,"./uk":46390,"./uk.js":46390,"./ur":28339,"./ur.js":28339,"./uz":2316,"./uz.js":2316,"./vi":23865,"./vi.js":23865,"./zh":4516,"./zh-cn":60758,"./zh-cn.js":60758,"./zh.js":4516};function o(t){return i(t).then((function(t){return n.t(t,23)}))}function i(t){return n.e(177).then((function(){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}))}o.keys=function(){return Object.keys(r)},o.resolve=i,o.id=72749,t.exports=o},11130:function(t,e,n){"use strict";n.d(e,{LQ:function(){return p},ZP:function(){return h},tj:function(){return f}});var r=n(9780);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function u(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var f="change_alias",p="editor_ready",h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(h,t);var e,n,r,o,a=(r=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function h(){return s(this,h),a.apply(this,arguments)}return e=h,(n=[{key:"removeSignatureElement",value:function(t,e){var n,r=i(t.model.createRangeIn(t.model.document.getRoot()).getWalker({shallow:!0}));try{for(r.s();!(n=r.n()).done;){var o=n.value;o.item.is("element")&&"signature"===o.item.name&&e.remove(o.item)}}catch(t){r.e(t)}finally{r.f()}}},{key:"insertSignatureElement",value:function(t,e,n,r){if(0!==n.length){var o=t.data.processor.toView(n),i=t.data.toModel(o),a=e.createElement("signature");e.append(e.createText("-- "),a),e.append(e.createElement("paragraph"),a),e.append(i,a),r&&e.append(e.createElement("paragraph"),a);var s=this.findPosition(t,e,r);t.model.insertContent(a,s)}}},{key:"findPosition",value:function(t,e,n){if(n){var r,o=i(t.model.createRangeIn(t.model.document.getRoot()).getWalker({shallow:!0}));try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.item.is("element")&&"quote"===a.item.name)return e.createPositionBefore(a.item)}}catch(t){o.e(t)}finally{o.f()}}return e.createPositionAt(t.model.document.getRoot(),"end")}},{key:"hasSignatureElement",value:function(t){var e,n=i(t.model.createRangeIn(t.model.document.getRoot()).getWalker({shallow:!0}));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.item.is("element")){if("quote"===r.item.name)continue;if("signature"===r.item.name)return!0}}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"execute",value:function(t,e,n){var r=this;this.editor.model.change((function(o){t===f&&(r.removeSignatureElement(r.editor,o),r.insertSignatureElement(r.editor,o,e,n)),t!==p||r.hasSignatureElement(r.editor)||r.insertSignatureElement(r.editor,o,e,n)}))}},{key:"refresh",value:function(){this.isEnabled=!0}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),h}(r.Z)},90162:function(t,e,n){"use strict";var r=new(n(20144).ZP);e.Z=r},72488:function(t,e,n){"use strict";n.d(e,{I:function(){return o}});var r=n(9944),o=function(t){if(t.specialUse.length>0)try{return function(t){if(t.specialUse.includes("all"))return(0,r.translate)("mail","All");if(t.specialUse.includes("archive"))return(0,r.translate)("mail","Archive");if(t.specialUse.includes("drafts"))return(0,r.translate)("mail","Drafts");if(t.specialUse.includes("flagged"))return(0,r.translate)("mail","Favorites");if(t.specialUse.includes("inbox"))return t.isPriorityInbox?(0,r.translate)("mail","Priority inbox"):t.isUnified?(0,r.translate)("mail","All inboxes"):(0,r.translate)("mail","Inbox");if(t.specialUse.includes("junk"))return(0,r.translate)("mail","Junk");if(t.specialUse.includes("sent"))return(0,r.translate)("mail","Sent");if(t.specialUse.includes("trash"))return(0,r.translate)("mail","Trash");throw new Error("unknown special use ".concat(t.specialUse))}(t)}catch(t){console.error("could not translate special mailbox",t)}return t.displayName}},75743:function(t,e,n){"use strict";n.d(e,{G:function(){return d},s:function(){return l}});var r=n(79753),o=n(26937);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function p(){}function h(){}function m(){}var v={};l(v,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(k([])));y&&y!==e&&n.call(y,o)&&(v=y);var b=m.prototype=p.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,a,s,c){var l=d(t[o],t,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==i(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):e.resolve(f).then((function(t){u.value=t,s(u)}),(function(t){return r("throw",t,s,c)}))}c(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=m,l(b,"constructor",m),l(m,"constructor",h),h.displayName=l(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))}}function l(t,e,n){return u.apply(this,arguments)}function u(){return(u=c(a().mark((function t(e,n,i){var s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(0,r.generateUrl)("/apps/mail/api/trustedsenders/{email}?type={type}",{email:e,type:n}),!i){t.next=6;break}return t.next=4,o.Z.put(s);case 4:t.next=8;break;case 6:return t.next=8,o.Z.delete(s);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return f.apply(this,arguments)}function f(){return(f=c(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,r.generateUrl)("/apps/mail/api/trustedsenders"),t.next=3,o.Z.get(e);case 3:return n=t.sent,t.abrupt("return",n.data.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},3135:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".button.icon-rename[data-v-d36749b4]{background-color:rgba(0,0,0,0);border:none;opacity:.3}.button.icon-rename[data-v-d36749b4]:hover,.button.icon-rename[data-v-d36749b4]:focus{opacity:1}","",{version:3,sources:["webpack://./src/components/AccountDefaultsSettings.vue"],names:[],mappings:"AACA,qCACC,8BAAA,CACA,WAAA,CACA,UAAA,CAEA,sFAEC,SAAA",sourcesContent:["\n.button.icon-rename {\n\tbackground-color: transparent;\n\tborder: none;\n\topacity: 0.3;\n\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n}\n"],sourceRoot:""}]),e.Z=a},79608:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"[data-v-3e16d5a0] .tabs-component-tabs{display:flex}[data-v-3e16d5a0] .tabs-component-tab{flex-grow:1;text-align:center;color:var(--color-text-lighter);margin-bottom:10px}[data-v-3e16d5a0] .tabs-component-tab.is-active{border-bottom:1px solid #000;font-weight:bold}.tabs-component-panels[data-v-3e16d5a0]{padding-top:20px}.tabs-component-panels label[data-v-3e16d5a0]{text-align:left;width:100%;display:inline-block}.tabs-component-panels input[data-v-3e16d5a0],.tabs-component-panels select[data-v-3e16d5a0]{margin-bottom:10px}","",{version:3,sources:["webpack://./src/components/AccountForm.vue"],names:[],mappings:"AACA,uCACC,YAAA,CAGD,sCACC,WAAA,CACA,iBAAA,CACA,+BAAA,CACA,kBAAA,CAGD,gDACC,4BAAA,CACA,gBAAA,CAGD,wCACC,gBAAA,CAGD,8CACC,eAAA,CACA,UAAA,CACA,oBAAA,CAGD,6FAEC,kBAAA",sourcesContent:["\n::v-deep .tabs-component-tabs {\n\tdisplay: flex;\n}\n\n::v-deep .tabs-component-tab {\n\tflex-grow: 1;\n\ttext-align: center;\n\tcolor: var(--color-text-lighter);\n\tmargin-bottom: 10px;\n}\n\n::v-deep .tabs-component-tab.is-active {\n\tborder-bottom: 1px solid black;\n\tfont-weight: bold;\n}\n\n.tabs-component-panels {\n\tpadding-top: 20px;\n}\n\n.tabs-component-panels label {\n\ttext-align: left;\n\twidth: 100%;\n\tdisplay: inline-block;\n}\n\n.tabs-component-panels input,\n.tabs-component-panels select {\n\tmargin-bottom: 10px;\n}\n"],sourceRoot:""}]),e.Z=a},73299:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".alias-item[data-v-0fd1f292]{display:flex;justify-content:space-between}.button.icon-rename[data-v-0fd1f292]{background-image:var(--icon-rename-000);background-color:var(--color-main-background);border:none;opacity:.7}.button.icon-rename[data-v-0fd1f292]:hover,.button.icon-rename[data-v-0fd1f292]:focus{opacity:1}.settings-hint[data-v-0fd1f292]{margin-top:-12px;margin-bottom:6px;color:var(--color-text-maxcontrast)}h2[data-v-0fd1f292]{font-weight:bold;font-size:20px;margin-bottom:12px;margin-left:-30px;line-height:30px;color:var(--color-text-light)}.app-settings-section[data-v-0fd1f292]{margin-bottom:45px}[data-v-0fd1f292] .modal-container,[data-v-0fd1f292] .app-settings__wrapper{position:unset !important}","",{version:3,sources:["webpack://./src/components/AccountSettings.vue"],names:[],mappings:"AACA,6BACC,YAAA,CACA,6BAAA,CAGD,qCACC,uCAAA,CACA,6CAAA,CACA,WAAA,CACA,UAAA,CACA,sFAEC,SAAA,CAGF,gCACC,gBAAA,CACA,iBAAA,CACA,mCAAA,CAED,oBACC,gBAAA,CACA,cAAA,CACA,kBAAA,CACA,iBAAA,CACA,gBAAA,CACA,6BAAA,CAED,uCACA,kBAAA,CAIA,4EAEC,yBAAA",sourcesContent:["\n.alias-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n\n.button.icon-rename {\n\tbackground-image: var(--icon-rename-000);\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\topacity: 0.7;\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n}\n.settings-hint {\n\tmargin-top: -12px;\n\tmargin-bottom: 6px;\n\tcolor: var(--color-text-maxcontrast);\n}\nh2 {\n\tfont-weight: bold;\n\tfont-size: 20px;\n\tmargin-bottom: 12px;\n\tmargin-left: -30px;\n\tline-height: 30px;\n\tcolor: var(--color-text-light);\n}\n.app-settings-section {\nmargin-bottom: 45px;\n}\n\n// Fix weird modal glitches on Firefox when toggling autoresponder\n:deep(.modal-container),\n:deep(.app-settings__wrapper) {\n\tposition: unset !important;\n}\n"],sourceRoot:""}]),e.Z=a},98049:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".alias-form[data-v-d0a75566],.alias-item[data-v-d0a75566]{display:flex;justify-content:space-between;align-items:center}.button-group[data-v-d0a75566]{display:flex;align-items:center}.icon[data-v-d0a75566]{background-color:var(--color-main-background);border:none;opacity:.7}.icon[data-v-d0a75566]:hover,.icon[data-v-d0a75566]:focus{opacity:1}.icon-checkmark[data-v-d0a75566]{background-image:var(--icon-checkmark-000)}.icon-delete[data-v-d0a75566]{background-image:var(--icon-delete-000)}.icon-rename[data-v-d0a75566]{background-image:var(--icon-rename-000)}","",{version:3,sources:["webpack://./src/components/AliasForm.vue"],names:[],mappings:"AACA,0DACC,YAAA,CACA,6BAAA,CACA,kBAAA,CAGD,+BACC,YAAA,CACA,kBAAA,CAGD,uBACC,6CAAA,CACA,WAAA,CACA,UAAA,CAEA,0DACC,SAAA,CAIF,iCACC,0CAAA,CAGD,8BACC,uCAAA,CAGD,8BACC,uCAAA",sourcesContent:["\n.alias-form, .alias-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.button-group {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.icon {\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\topacity: 0.7;\n\n\t&:hover, &:focus {\n\t\topacity: 1;\n\t}\n}\n\n.icon-checkmark {\n\tbackground-image: var(--icon-checkmark-000);\n}\n\n.icon-delete {\n\tbackground-image: var(--icon-delete-000);\n}\n\n.icon-rename {\n\tbackground-image: var(--icon-rename-000);\n}\n"],sourceRoot:""}]),e.Z=a},38615:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".primary[data-v-500f6e07]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-500f6e07]:after{left:14px}.button-text[data-v-500f6e07]{background-color:rgba(0,0,0,0);border:none;color:var(--color-text-maxcontrast);font-weight:normal}.button-text[data-v-500f6e07]:hover,.button-text[data-v-500f6e07]:focus{color:var(--color-main-text)}input[data-v-500f6e07]{width:195px}[data-v-500f6e07].button-vue{display:inline-block !important;margin-top:4px !important}","",{version:3,sources:["webpack://./src/components/AliasSettings.vue"],names:[],mappings:"AACA,0BACC,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACC,SAAA,CAIF,8BACC,8BAAA,CACA,WAAA,CACA,mCAAA,CACA,kBAAA,CAEA,wEAEC,4BAAA,CAIF,uBACC,WAAA,CAED,6BACC,+BAAA,CACA,yBAAA",sourcesContent:["\n.primary {\n\tpadding-left: 26px;\n\tbackground-position: 6px;\n\tcolor: var(--color-main-background);\n\n\t&:after {\n\t\tleft: 14px;\n\t}\n}\n\n.button-text {\n\tbackground-color: transparent;\n\tborder: none;\n\tcolor: var(--color-text-maxcontrast);\n\tfont-weight: normal;\n\n\t&:hover,\n\t&:focus {\n\t\tcolor: var(--color-main-text);\n\t}\n}\n\ninput {\n\twidth: 195px;\n}\n::v-deep.button-vue {\n\tdisplay: inline-block !important;\n\tmargin-top: 4px !important;\n}\n"],sourceRoot:""}]),e.Z=a},67270:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"p.app-settings span.loading-icon[data-v-c3574dec]{display:inline-block;vertical-align:middle;padding:5px 0}p.app-settings[data-v-c3574dec]{padding:10px 0}.app-settings-button[data-v-c3574dec]{display:inline-flex;width:100%;background-position:10px center;text-align:left;margin-top:6px}.app-settings-button.button.primary.new-button[data-v-c3574dec]{color:var(--color-main-background);padding-left:34px;gap:4px}.app-settings-link[data-v-c3574dec]{text-decoration:underline}.mailvelope-section[data-v-c3574dec]{padding-top:15px}.mailvelope-section a.button[data-v-c3574dec]{display:flex;align-items:center;line-height:normal;min-height:44px;font-size:unset}.mailvelope-section a.button[data-v-c3574dec]:focus-visible,.mailvelope-section a.button[data-v-c3574dec]:hover{box-shadow:0 0 0 1px var(--color-primary-element)}.material-design-icon[data-v-c3574dec]{opacity:.7}.material-design-icon.lock-icon[data-v-c3574dec]{margin-right:10px}","",{version:3,sources:["webpack://./src/components/AppSettingsMenu.vue"],names:[],mappings:"AACA,kDACC,oBAAA,CACA,qBAAA,CACA,aAAA,CAED,gCACC,cAAA,CAED,sCACC,mBAAA,CACD,UAAA,CACC,+BAAA,CACA,eAAA,CACA,cAAA,CAED,gEACC,kCAAA,CAEA,iBAAA,CACA,OAAA,CAED,oCACC,yBAAA,CAED,qCACC,gBAAA,CAEA,8CACC,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CAEA,gHAEC,iDAAA,CAIH,uCACC,UAAA,CACA,iDACC,iBAAA",sourcesContent:["\np.app-settings span.loading-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tpadding: 5px 0;\n}\np.app-settings {\n\tpadding: 10px 0;\n}\n.app-settings-button {\n\tdisplay: inline-flex;\nwidth: 100%;\n\tbackground-position: 10px center;\n\ttext-align: left;\n\tmargin-top: 6px;\n}\n.app-settings-button.button.primary.new-button {\n\tcolor: var(--color-main-background);\n\t//this style will be removed after we migrate also the  'add mail account' to material design\n\tpadding-left: 34px;\n\tgap: 4px;\n}\n.app-settings-link {\n\ttext-decoration: underline;\n}\n.mailvelope-section {\n\tpadding-top: 15px;\n\n\ta.button {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tline-height: normal;\n\t\tmin-height: 44px;\n\t\tfont-size: unset;\n\n\t\t&:focus-visible,\n\t\t&:hover {\n\t\t\tbox-shadow: 0 0 0 1px var(--color-primary-element);\n\t\t}\n\t}\n}\n.material-design-icon {\n\topacity: .7;\n\t&.lock-icon {\n\t\tmargin-right: 10px;\n\t}\n\n}\n"],sourceRoot:""}]),e.Z=a},28066:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"label[data-v-2a4cf7ad]{padding-right:12px}","",{version:3,sources:["webpack://./src/components/EditorSettings.vue"],names:[],mappings:"AAEA,uBACC,kBAAA",sourcesContent:["\n\nlabel {\n\tpadding-right: 12px;\n}\n"],sourceRoot:""}]),e.Z=a},85801:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"[data-v-549ccf0a] .modal-container{width:calc(100vw - 120px) !important;height:calc(100vh - 120px) !important;max-width:600px !important;max-height:500px !important}.modal-content[data-v-549ccf0a]{display:flex;box-sizing:border-box;width:100%;height:100%;flex-direction:column;padding:15px}.crumbs[data-v-549ccf0a]{display:inline-flex;padding-right:0px;flex-wrap:wrap}.crumbs .level[data-v-549ccf0a]{display:inline-flex;height:44px;min-width:0px;flex:0 0 auto;order:1;padding-right:7px;background-position:right center;background-size:auto 24px;margin-top:-10px}.crumbs a[data-v-549ccf0a]{position:relative;padding:12px;opacity:.5;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:0 0 auto;min-width:0px;max-width:200px}.crumbs a[data-v-549ccf0a]:hover{opacity:.7}.crumbs a.icon-home[data-v-549ccf0a]{width:0px;background-position:left center}.mailbox-list[data-v-549ccf0a]{display:inline-block;width:100%;height:100%;overflow-y:auto;flex:1}.mailbox-list li[data-v-549ccf0a]{display:flex;cursor:pointer}.mailbox-list li[data-v-549ccf0a]:hover{background-color:var(--color-background-hover)}.mailbox-list li[data-v-549ccf0a]:not(:last-child){border-bottom:1px solid var(--color-border)}.mailbox-list h2[data-v-549ccf0a]{width:100%;color:var(--color-text-maxcontrast);text-align:center;margin-top:80px;opacity:.4;background-size:64px;height:64px}.mailbox-list .mailbox-icon[data-v-549ccf0a]{width:24px;height:24px;padding:14px;opacity:.9;background-size:24px}.mailbox-list .mailbox-title[data-v-549ccf0a]{padding:14px 14px 14px 0;flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.buttons[data-v-549ccf0a]{display:flex;justify-content:flex-end;padding-top:10px}.buttons .spinner[data-v-549ccf0a]{margin-right:5px}.material-design-icon[data-v-549ccf0a]{opacity:.7;margin-right:6px}","",{version:3,sources:["webpack://./src/components/MailboxPicker.vue"],names:[],mappings:"AACA,mCACC,oCAAA,CACA,qCAAA,CACA,0BAAA,CACA,2BAAA,CAGD,gCACC,YAAA,CACA,qBAAA,CACA,UAAA,CACA,WAAA,CACA,qBAAA,CACA,YAAA,CAGD,yBACC,mBAAA,CACA,iBAAA,CACA,cAAA,CAEA,gCACC,mBAAA,CACA,WAAA,CACA,aAAA,CACA,aAAA,CACA,OAAA,CACA,iBAAA,CACA,gCAAA,CACA,yBAAA,CACA,gBAAA,CAGD,2BACC,iBAAA,CACA,YAAA,CACA,UAAA,CACA,sBAAA,CACA,kBAAA,CACA,eAAA,CACA,aAAA,CACA,aAAA,CACA,eAAA,CAEA,iCACC,UAAA,CAIF,qCACC,SAAA,CACA,+BAAA,CAIF,+BACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,MAAA,CAEA,kCACC,YAAA,CACA,cAAA,CAEA,wCACC,8CAAA,CAGD,mDACC,2CAAA,CAIF,kCACC,UAAA,CACA,mCAAA,CACA,iBAAA,CACA,eAAA,CACA,UAAA,CACA,oBAAA,CACA,WAAA,CAGD,6CACC,UAAA,CACA,WAAA,CACA,YAAA,CACA,UAAA,CACA,oBAAA,CAGD,8CACC,wBAAA,CACA,MAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA,CAIF,0BACC,YAAA,CACA,wBAAA,CACA,gBAAA,CAEA,mCACC,gBAAA,CAGF,uCACC,UAAA,CACA,gBAAA",sourcesContent:["\n::v-deep .modal-container {\n\twidth: calc(100vw - 120px) !important;\n\theight: calc(100vh - 120px) !important;\n\tmax-width: 600px !important;\n\tmax-height: 500px !important;\n}\n\n.modal-content {\n\tdisplay: flex;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\tflex-direction: column;\n\tpadding: 15px;\n}\n\n.crumbs {\n\tdisplay: inline-flex;\n\tpadding-right: 0px;\n\tflex-wrap: wrap;\n\n\t.level {\n\t\tdisplay: inline-flex;\n\t\theight: 44px;\n\t\tmin-width: 0px;\n\t\tflex: 0 0 auto;\n\t\torder: 1;\n\t\tpadding-right: 7px;\n\t\tbackground-position: right center;\n\t\tbackground-size: auto 24px;\n\t\tmargin-top: -10px;\n\t}\n\n\ta {\n\t\tposition: relative;\n\t\tpadding: 12px;\n\t\topacity: 0.5;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\tflex: 0 0 auto;\n\t\tmin-width: 0px;\n\t\tmax-width: 200px;\n\n\t\t&:hover {\n\t\t\topacity: 0.7;\n\t\t}\n\t}\n\n\ta.icon-home {\n\t\twidth: 0px;\n\t\tbackground-position: left center;\n\t}\n}\n\n.mailbox-list {\n\tdisplay: inline-block;\n\twidth: 100%;\n\theight: 100%;\n\toverflow-y: auto;\n\tflex: 1;\n\n\tli {\n\t\tdisplay: flex;\n\t\tcursor: pointer;\n\n\t\t&:hover {\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t}\n\n\t\t&:not(:last-child) {\n\t\t\tborder-bottom: 1px solid var(--color-border);\n\t\t}\n\t}\n\n\th2 {\n\t\twidth: 100%;\n\t\tcolor: var(--color-text-maxcontrast);\n\t\ttext-align: center;\n\t\tmargin-top: 80px;\n\t\topacity: 0.4;\n\t\tbackground-size: 64px;\n\t\theight: 64px;\n\t}\n\n\t.mailbox-icon {\n\t\twidth: 24px;\n\t\theight: 24px;\n\t\tpadding: 14px;\n\t\topacity: 0.9;\n\t\tbackground-size: 24px;\n\t}\n\n\t.mailbox-title {\n\t\tpadding: 14px 14px 14px 0;\n\t\tflex: 1;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n.buttons {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tpadding-top: 10px;\n\n\t.spinner {\n\t\tmargin-right: 5px;\n\t}\n}\n.material-design-icon {\n\topacity: .7;\n\tmargin-right: 6px;\n}\n"],sourceRoot:""}]),e.Z=a},24307:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".button[data-v-f8b22a90]{width:44px;height:44px;background-color:var(--color-main-background);border:none;display:inline-block;position:absolute;margin-left:254px;margin-top:13px;opacity:.7}.button[data-v-f8b22a90]:hover,.button[data-v-f8b22a90]:focus{opacity:1;background-color:var(--color-background-hover)}.button[data-v-f8b22a90]:disabled{cursor:not-allowed;opacity:.5;animation:rotation-f8b22a90 2s linear}[data-v-f8b22a90] .app-navigation-new button{width:240px !important;height:44px}@keyframes rotation-f8b22a90{from{transform:rotate(0deg)}to{transform:rotate(-360deg)}}.app-navigation-spacer[data-v-f8b22a90]{order:0 !important}[data-v-f8b22a90] .settings-button{opacity:.7 !important;font-weight:bold !important}","",{version:3,sources:["webpack://./src/components/Navigation.vue"],names:[],mappings:"AACA,yBACC,UAAA,CACA,WAAA,CACA,6CAAA,CACA,WAAA,CACA,oBAAA,CACA,iBAAA,CACA,iBAAA,CACA,eAAA,CACA,UAAA,CACA,8DAEC,SAAA,CACA,8CAAA,CAED,kCACC,kBAAA,CACA,UAAA,CACA,qCAAA,CAGF,6CACC,sBAAA,CACA,WAAA,CAED,6BACA,KACC,sBAAA,CAED,GACE,yBAAA,CAAA,CAGF,wCACC,kBAAA,CAED,mCACC,qBAAA,CACA,2BAAA",sourcesContent:["\n.button {\n\twidth: 44px;\n\theight: 44px;\n\tbackground-color: var(--color-main-background);\n\tborder: none;\n\tdisplay: inline-block;\n\tposition: absolute;\n\tmargin-left: 254px;\n\tmargin-top: 13px;\n\topacity: .7;\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t\tbackground-color:var(--color-background-hover);\n\t}\n\t&:disabled {\n\t\tcursor: not-allowed;\n\t\topacity: .5;\n\t\tanimation: rotation 2s linear;\n\t}\n}\n::v-deep .app-navigation-new button {\n\twidth: 240px !important;\n\theight: 44px;\n}\n@keyframes rotation {\nfrom {\n\ttransform: rotate(-0deg);\n}\nto {\n\t\ttransform: rotate(-360deg);\n\t}\n}\n.app-navigation-spacer {\n\torder: 0 !important;\n}\n::v-deep .settings-button {\n\topacity: .7 !important;\n\tfont-weight: bold !important;\n}\n"],sourceRoot:""}]),e.Z=a},22452:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"[data-v-13afa457] .app-navigation-entry__title{color:var(--color-text-maxcontrast)}","",{version:3,sources:["webpack://./src/components/NavigationAccountExpandCollapse.vue"],names:[],mappings:"AACA,+CACC,mCAAA",sourcesContent:["\n::v-deep .app-navigation-entry__title {\n\tcolor: var(--color-text-maxcontrast);\n}\n"],sourceRoot:""}]),e.Z=a},7064:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".sidebar-opacity-icon[data-v-28214da8]{opacity:.7}.sidebar-opacity-icon[data-v-28214da8]:hover{opacity:1}.counter-bubble__counter[data-v-28214da8]{max-width:initial}","",{version:3,sources:["webpack://./src/components/NavigationMailbox.vue"],names:[],mappings:"AACA,uCACC,UAAA,CACA,6CACA,SAAA,CAGD,0CACC,iBAAA",sourcesContent:["\n.sidebar-opacity-icon {\n\topacity: .7;\n\t&:hover {\n\topacity: 1;\n\t}\n}\n.counter-bubble__counter {\n\tmax-width: initial;\n}\n"],sourceRoot:""}]),e.Z=a},61390:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"[data-v-1ff8c983] .counter-bubble__counter{margin-right:43px}.outbox-opacity-icon[data-v-1ff8c983]{opacity:.7}.outbox-opacity-icon[data-v-1ff8c983]:hover{opacity:1}","",{version:3,sources:["webpack://./src/components/NavigationOutbox.vue"],names:[],mappings:"AACA,2CACC,iBAAA,CAED,sCACC,UAAA,CAEA,4CACC,SAAA",sourcesContent:["\n::v-deep .counter-bubble__counter {\n\tmargin-right: 43px;\n}\n.outbox-opacity-icon {\n\topacity: .7;\n\n\t&:hover {\n\t\topacity: 1;\n\t}\n}\n"],sourceRoot:""}]),e.Z=a},24224:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".form[data-v-0c0f23a0]{display:flex;flex-direction:column;gap:15px}.form__fieldset[data-v-0c0f23a0]{display:flex;flex-direction:column}.form__fieldset__label[data-v-0c0f23a0]{display:flex;align-items:center;gap:5px}.form__fieldset__input[data-v-0c0f23a0]{flex:1 auto}.form__multi-row[data-v-0c0f23a0]{display:flex;align-items:end;gap:15px}.form #ooo-enable-last-day[data-v-0c0f23a0]{cursor:pointer;min-height:unset}.form #ooo-subject[data-v-0c0f23a0]{width:100%}.form #ooo-message[data-v-0c0f23a0]{width:100%;min-height:100px;border:1px solid var(--color-border)}.form #ooo-message[data-v-0c0f23a0]:active,.form #ooo-message[data-v-0c0f23a0]:focus,.form #ooo-message[data-v-0c0f23a0]:hover{border-color:var(--color-primary-element) !important}","",{version:3,sources:["webpack://./src/components/OutOfOfficeForm.vue"],names:[],mappings:"AACA,uBACC,YAAA,CACA,qBAAA,CACA,QAAA,CAEA,iCACC,YAAA,CACA,qBAAA,CAEA,wCACC,YAAA,CACA,kBAAA,CACA,OAAA,CAGD,wCACC,WAAA,CAIF,kCACC,YAAA,CACA,eAAA,CACA,QAAA,CAGD,4CACC,cAAA,CACA,gBAAA,CAGD,oCACC,UAAA,CAGD,oCACC,UAAA,CACA,gBAAA,CACA,oCAAA,CAEA,+HAGC,oDAAA",sourcesContent:["\n.form {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 15px;\n\n\t&__fieldset {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&__label {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tgap: 5px;\n\t\t}\n\n\t\t&__input {\n\t\t\tflex: 1 auto;\n\t\t}\n\t}\n\n\t&__multi-row {\n\t\tdisplay: flex;\n\t\talign-items: end;\n\t\tgap: 15px;\n\t}\n\n\t#ooo-enable-last-day {\n\t\tcursor: pointer;\n\t\tmin-height: unset;\n\t}\n\n\t#ooo-subject {\n\t\twidth: 100%;\n\t}\n\n\t#ooo-message {\n\t\twidth: 100%;\n\t\tmin-height: 100px;\n\t\tborder: 1px solid var(--color-border);\n\n\t\t&:active,\n\t\t&:focus,\n\t\t&:hover {\n\t\t\tborder-color: var(--color-primary-element) !important;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]),e.Z=a},1581:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".section[data-v-4e4c9298]{display:block;padding:0;margin-bottom:23px}textarea[data-v-4e4c9298]{width:100%}.primary[data-v-4e4c9298]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-4e4c9298]:after{left:14px}","",{version:3,sources:["webpack://./src/components/SieveFilterForm.vue"],names:[],mappings:"AACA,0BACC,aAAA,CACA,SAAA,CACA,kBAAA,CAGD,0BACC,UAAA,CAGD,0BACC,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACE,SAAA",sourcesContent:["\n.section {\n\tdisplay: block;\n\tpadding: 0;\n\tmargin-bottom: 23px;\n}\n\ntextarea {\n\twidth: 100%;\n}\n\n.primary {\n\tpadding-left: 26px;\n\tbackground-position: 6px;\n\tcolor: var(--color-main-background);\n\n\t&:after {\n\t\t left: 14px;\n\t }\n}\n"],sourceRoot:""}]),e.Z=a},12823:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,".ck.ck-editor__editable_inline[data-v-65cc259e]{width:100%;max-width:78vw;height:100%;min-height:100px;border-radius:var(--border-radius) !important;border:1px solid var(--color-border) !important;box-shadow:none !important}.primary[data-v-65cc259e]{padding-left:26px;background-position:6px;color:var(--color-main-background)}.primary[data-v-65cc259e]:after{left:14px}.button-text[data-v-65cc259e]{background-color:rgba(0,0,0,0);border:none;color:var(--color-text-maxcontrast);font-weight:normal}.button-text[data-v-65cc259e]:hover,.button-text[data-v-65cc259e]:focus{color:var(--color-main-text)}.section[data-v-65cc259e]{display:block;padding:0;margin-bottom:23px}.multiselect--single[data-v-65cc259e]{width:100%}.ck-balloon-panel[data-v-65cc259e]{z-index:10000 !important}[data-v-65cc259e].button-vue{display:inline-block !important;margin-top:4px !important}.warning-large-signature[data-v-65cc259e]{color:#ff8c00}","",{version:3,sources:["webpack://./src/components/SignatureSettings.vue"],names:[],mappings:"AACA,gDACE,UAAA,CACA,cAAA,CACA,WAAA,CACA,gBAAA,CACA,6CAAA,CACA,+CAAA,CACA,0BAAA,CAGF,0BACE,iBAAA,CACA,uBAAA,CACA,kCAAA,CAEA,gCACE,SAAA,CAIJ,8BACE,8BAAA,CACA,WAAA,CACA,mCAAA,CACA,kBAAA,CAEA,wEAEE,4BAAA,CAGJ,0BACE,aAAA,CACA,SAAA,CACA,kBAAA,CAEF,sCACE,UAAA,CAEF,mCACE,wBAAA,CAEF,6BACC,+BAAA,CACA,yBAAA,CAED,0CACC,aAAA",sourcesContent:["\n.ck.ck-editor__editable_inline {\n  width: 100%;\n  max-width: 78vw;\n  height: 100%;\n  min-height: 100px;\n  border-radius: var(--border-radius) !important;\n  border: 1px solid var(--color-border) !important;\n  box-shadow: none !important;\n}\n\n.primary {\n  padding-left: 26px;\n  background-position: 6px;\n  color: var(--color-main-background);\n\n  &:after {\n    left: 14px;\n  }\n}\n\n.button-text {\n  background-color: transparent;\n  border: none;\n  color: var(--color-text-maxcontrast);\n  font-weight: normal;\n\n  &:hover,\n  &:focus {\n    color: var(--color-main-text);\n  }\n}\n.section {\n  display: block;\n  padding: 0;\n  margin-bottom: 23px;\n}\n.multiselect--single {\n  width: 100%;\n}\n.ck-balloon-panel {\n\t z-index: 10000 !important;\n }\n::v-deep.button-vue {\n\tdisplay: inline-block !important;\n\tmargin-top: 4px !important;\n}\n.warning-large-signature {\n\tcolor: darkorange;\n}\n"],sourceRoot:""}]),e.Z=a},98136:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"[data-v-53aab316] a{color:#07d}[data-v-53aab316] p{cursor:text}","",{version:3,sources:["webpack://./src/components/TextEditor.vue"],names:[],mappings:"AACA,oBACC,UAAA,CAED,oBACC,WAAA",sourcesContent:["\n::v-deep a {\n\tcolor: #07d;\n}\n::v-deep p {\n\tcursor: text;\n}\n"],sourceRoot:""}]),e.Z=a},92071:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"[data-v-7c39a306].button-vue{display:inline-block !important}","",{version:3,sources:["webpack://./src/components/TrustedSenders.vue"],names:[],mappings:"AACA,6BACC,+BAAA",sourcesContent:["\n::v-deep.button-vue {\n\tdisplay: inline-block !important;\n}\n"],sourceRoot:""}]),e.Z=a},21675:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"[data-v-4d8504c8] .modal-wrapper .modal-container{display:block;overflow:scroll;transition:transform 300ms ease;border-radius:var(--border-radius-large);box-shadow:0 0 40px rgba(0,0,0,.2);padding:30px 40px 20px}dt[data-v-4d8504c8]{width:auto;text-align:left}","",{version:3,sources:["webpack://./src/views/KeyboardShortcuts.vue"],names:[],mappings:"AACA,kDACC,aAAA,CACA,eAAA,CACA,+BAAA,CACA,wCAAA,CACA,kCAAA,CACA,sBAAA,CAED,oBACC,UAAA,CACA,eAAA",sourcesContent:["\n::v-deep .modal-wrapper .modal-container {\n\tdisplay: block;\n\toverflow: scroll;\n\ttransition: transform 300ms ease;\n\tborder-radius: var(--border-radius-large);\n\tbox-shadow: 0 0 40px rgba(0,0,0,0.2);\n\tpadding: 30px 40px 20px;\n}\ndt {\n\twidth: auto;\n\ttext-align: left;\n}\n\n"],sourceRoot:""}]),e.Z=a},7076:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"\nh4[data-v-3e16d5a0] {\n\ttext-align: left;\n}\n.flex-row[data-v-3e16d5a0] {\n\tdisplay: flex;\n}\nlabel.button[data-v-3e16d5a0] {\n\tdisplay: inline-block;\n\ttext-align: center;\n\tflex-grow: 1;\n}\nlabel.primary[data-v-3e16d5a0] {\n\tcolor: var(--color-main-background);\n}\ninput.primary[data-v-3e16d5a0] {\n\tcolor: var(--color-main-background);\n}\ninput[type='radio'][data-v-3e16d5a0] {\n\tdisplay: none;\n}\ninput[type='radio'][disabled] + label[data-v-3e16d5a0] {\n\tcursor: default;\n\topacity: 0.5;\n}\n.account-form__label--required[data-v-3e16d5a0]:after {\n\tcontent:\" *\";\n}\n.account-form__heading--required[data-v-3e16d5a0]:after {\n\tcontent:\" *\";\n}\n.account-form__submit-buttons[data-v-3e16d5a0] {\n\tdisplay: flex;\n\tjustify-content: center;\n\tmargin-top: 5px;\n}\n.account-form__submit-button[data-v-3e16d5a0] {\n\tdisplay: flex;\n\talign-items: center;\n}\n.account-form--feedback[data-v-3e16d5a0] {\n\tcolor: var(--color-text-maxcontrast);\n\tmargin-top: 5px;\n\ttext-align: center;\n}\n.account-form--error[data-v-3e16d5a0] {\n\ttext-align: left;\n\tfont-size: 14px;\n}\n#account-form[data-v-3e16d5a0] {\n\tz-index: 1001;\n\twidth: 250px;\n\ttop: 15%;\n\tpadding-bottom: 50px;\n\tmargin: 0 auto;\n\tpadding-top: 30px;\n}\n#account-form input[data-v-3e16d5a0] {\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n","",{version:3,sources:["webpack://./src/components/AccountForm.vue"],names:[],mappings:";AAskBA;CACA,gBAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,qBAAA;CACA,kBAAA;CACA,YAAA;AACA;AACA;CACA,mCAAA;AACA;AACA;CACA,mCAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,eAAA;CACA,YAAA;AACA;AACA;CACA,YAAA;AACA;AACA;CACA,YAAA;AACA;AACA;CACA,aAAA;CACA,uBAAA;CACA,eAAA;AACA;AACA;CACA,aAAA;CACA,mBAAA;AACA;AACA;CACA,oCAAA;CACA,eAAA;CACA,kBAAA;AACA;AACA;CACA,gBAAA;CACA,eAAA;AACA;AACA;CACA,aAAA;CACA,YAAA;CACA,QAAA;CACA,oBAAA;CACA,cAAA;CACA,iBAAA;AACA;AACA;CACA,WAAA;CACA,sBAAA;AACA",sourcesContent:['<template>\n\t<form id="account-form" @submit.prevent="onSubmit">\n\t\t<Tabs\n\t\t\t:options="{useUrlFragment: false, defaultTabHash: settingsPage ? \'manual\' : \'auto\'}"\n\t\t\tcache-lifetime="0"\n\t\t\t@changed="onModeChanged">\n\t\t\t<Tab id="auto" key="auto" :name="t(\'mail\', \'Auto\')">\n\t\t\t\t<label for="auto-name">{{ t(\'mail\', \'Name\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="auto-name"\n\t\t\t\t\tv-model="accountName"\n\t\t\t\t\ttype="text"\n\t\t\t\t\t:placeholder="t(\'mail\', \'Name\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\tautofocus>\n\t\t\t\t<label for="auto-address" class="account-form__label--required">{{ t(\'mail\', \'Mail address\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="auto-address"\n\t\t\t\t\tv-model.lazy="emailAddress"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t:placeholder="t(\'mail\', \'name@example.org\')"\n\t\t\t\t\trequired\n\t\t\t\t\ttype="email"\n\t\t\t\t\t@blur="isValidEmail(emailAddress)"\n\t\t\t\t\t@change="clearFeedback">\n\t\t\t\t<p v-if="!isValidEmail(emailAddress)" class="account-form--error">\n\t\t\t\t\t{{ t(\'mail\', \'Please enter an email of the format name@example.com\') }}\n\t\t\t\t</p>\n\t\t\t\t<label for="auto-password" class="account-form__label--required">{{ t(\'mail\', \'Password\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="auto-password"\n\t\t\t\t\tv-model="autoConfig.password"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t:placeholder="t(\'mail\', \'Password\')"\n\t\t\t\t\trequired\n\t\t\t\t\ttype="password"\n\t\t\t\t\t@change="clearFeedback">\n\t\t\t</Tab>\n\t\t\t<Tab id="manual" key="manual" :name="t(\'mail\', \'Manual\')">\n\t\t\t\t<label for="man-name">{{ t(\'mail\', \'Name\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-name"\n\t\t\t\t\tv-model="accountName"\n\t\t\t\t\ttype="text"\n\t\t\t\t\t:placeholder="t(\'mail\', \'Name\')"\n\t\t\t\t\t:disabled="loading">\n\t\t\t\t<label for="man-address" class="account-form__label--required">{{ t(\'mail\', \'Mail address\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-address"\n\t\t\t\t\tv-model.lazy="emailAddress"\n\t\t\t\t\ttype="email"\n\t\t\t\t\t:placeholder="t(\'mail\', \'name@example.org\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@blur="isValidEmail(emailAddress)"\n\t\t\t\t\t@change="clearFeedback">\n\t\t\t\t<p v-if="!isValidEmail(emailAddress)" class="account-form--error">\n\t\t\t\t\t{{ t(\'mail\', \'Please enter an email of the format name@example.com\') }}\n\t\t\t\t</p>\n\n\t\t\t\t<h3>{{ t(\'mail\', \'IMAP Settings\') }}</h3>\n\t\t\t\t<label for="man-imap-host" class="account-form__label--required">{{ t(\'mail\', \'IMAP Host\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-imap-host"\n\t\t\t\t\tv-model="manualConfig.imapHost"\n\t\t\t\t\ttype="text"\n\t\t\t\t\t:placeholder="t(\'mail\', \'IMAP Host\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@change="clearFeedback">\n\t\t\t\t<h4 class="account-form__heading--required">\n\t\t\t\t\t{{ t(\'mail\', \'IMAP Security\') }}\n\t\t\t\t</h4>\n\t\t\t\t<div class="flex-row">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-imap-sec-none"\n\t\t\t\t\t\tv-model="manualConfig.imapSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-imap-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="none"\n\t\t\t\t\t\t@change="onImapSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-imap-sec-none"\n\t\t\t\t\t\t:class="{primary: manualConfig.imapSslMode === \'none\'}">{{ t(\'mail\', \'None\') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-imap-sec-ssl"\n\t\t\t\t\t\tv-model="manualConfig.imapSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-imap-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="ssl"\n\t\t\t\t\t\t@change="onImapSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-imap-sec-ssl"\n\t\t\t\t\t\t:class="{primary: manualConfig.imapSslMode === \'ssl\'}">{{ t(\'mail\', \'SSL/TLS\') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-imap-sec-tls"\n\t\t\t\t\t\tv-model="manualConfig.imapSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-imap-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="tls"\n\t\t\t\t\t\t@change="onImapSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-imap-sec-tls"\n\t\t\t\t\t\t:class="{primary: manualConfig.imapSslMode === \'tls\'}">{{ t(\'mail\', \'STARTTLS\') }}</label>\n\t\t\t\t</div>\n\t\t\t\t<label for="man-imap-port" class="account-form__label--required">{{ t(\'mail\', \'IMAP Port\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-imap-port"\n\t\t\t\t\tv-model="manualConfig.imapPort"\n\t\t\t\t\ttype="number"\n\t\t\t\t\t:placeholder="t(\'mail\', \'IMAP Port\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@change="clearFeedback">\n\t\t\t\t<label for="man-imap-user" class="account-form__label--required">{{ t(\'mail\', \'IMAP User\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-imap-user"\n\t\t\t\t\tv-model="manualConfig.imapUser"\n\t\t\t\t\ttype="text"\n\t\t\t\t\t:placeholder="t(\'mail\', \'IMAP User\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@change="clearFeedback">\n\t\t\t\t<label for="man-imap-password" class="account-form__label--required">{{ t(\'mail\', \'IMAP Password\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-imap-password"\n\t\t\t\t\tv-model="manualConfig.imapPassword"\n\t\t\t\t\ttype="password"\n\t\t\t\t\t:placeholder="t(\'mail\', \'IMAP Password\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@change="clearFeedback">\n\n\t\t\t\t<h3>{{ t(\'mail\', \'SMTP Settings\') }}</h3>\n\t\t\t\t<label for="man-smtp-host" class="account-form__label--required">{{ t(\'mail\', \'SMTP Host\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-smtp-host"\n\t\t\t\t\tref="smtpHost"\n\t\t\t\t\tv-model="manualConfig.smtpHost"\n\t\t\t\t\ttype="text"\n\t\t\t\t\tname="smtp-host"\n\t\t\t\t\t:placeholder="t(\'mail\', \'SMTP Host\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@change="clearFeedback">\n\t\t\t\t<h4 class="account-form__heading--required">\n\t\t\t\t\t{{ t(\'mail\', \'SMTP Security\') }}\n\t\t\t\t</h4>\n\t\t\t\t<div class="flex-row">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-smtp-sec-none"\n\t\t\t\t\t\tv-model="manualConfig.smtpSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-smtp-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="none"\n\t\t\t\t\t\t@change="onSmtpSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-smtp-sec-none"\n\t\t\t\t\t\t:class="{primary: manualConfig.smtpSslMode === \'none\'}">{{ t(\'mail\', \'None\') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-smtp-sec-ssl"\n\t\t\t\t\t\tv-model="manualConfig.smtpSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-smtp-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="ssl"\n\t\t\t\t\t\t@change="onSmtpSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-smtp-sec-ssl"\n\t\t\t\t\t\t:class="{primary: manualConfig.smtpSslMode === \'ssl\'}">{{ t(\'mail\', \'SSL/TLS\') }}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="man-smtp-sec-tls"\n\t\t\t\t\t\tv-model="manualConfig.smtpSslMode"\n\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\tname="man-smtp-sec"\n\t\t\t\t\t\t:disabled="loading"\n\t\t\t\t\t\tvalue="tls"\n\t\t\t\t\t\t@change="onSmtpSslModeChange">\n\t\t\t\t\t<label\n\t\t\t\t\t\tclass="button"\n\t\t\t\t\t\tfor="man-smtp-sec-tls"\n\t\t\t\t\t\t:class="{primary: manualConfig.smtpSslMode === \'tls\'}">{{ t(\'mail\', \'STARTTLS\') }}</label>\n\t\t\t\t</div>\n\t\t\t\t<label for="man-smtp-port" class="account-form__label--required">{{ t(\'mail\', \'SMTP Port\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-smtp-port"\n\t\t\t\t\tv-model="manualConfig.smtpPort"\n\t\t\t\t\ttype="number"\n\t\t\t\t\t:placeholder="t(\'mail\', \'SMTP Port\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@change="clearFeedback">\n\t\t\t\t<label for="man-smtp-user" class="account-form__label--required">{{ t(\'mail\', \'SMTP User\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-smtp-user"\n\t\t\t\t\tv-model="manualConfig.smtpUser"\n\t\t\t\t\ttype="text"\n\t\t\t\t\t:placeholder="t(\'mail\', \'SMTP User\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@change="clearFeedback">\n\t\t\t\t<label for="man-smtp-password" class="account-form__label--required">{{ t(\'mail\', \'SMTP Password\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="man-smtp-password"\n\t\t\t\t\tv-model="manualConfig.smtpPassword"\n\t\t\t\t\ttype="password"\n\t\t\t\t\t:placeholder="t(\'mail\', \'SMTP Password\')"\n\t\t\t\t\t:disabled="loading"\n\t\t\t\t\trequired\n\t\t\t\t\t@change="clearFeedback">\n\t\t\t</Tab>\n\t\t</Tabs>\n\t\t<div class="account-form__submit-buttons">\n\t\t\t<ButtonVue v-if="mode === \'auto\'"\n\t\t\t\tclass="account-form__submit-button"\n\t\t\t\ttype="primary"\n\t\t\t\tnative-type="submit"\n\t\t\t\t:disabled="isDisabledAuto || loading"\n\t\t\t\t@click.prevent="onSubmit">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconLoading v-if="loading" :size="20" />\n\t\t\t\t\t<IconCheck v-else :size="20" />\n\t\t\t\t</template>\n\t\t\t\t{{ submitButtonText }}\n\t\t\t</ButtonVue>\n\n\t\t\t<ButtonVue v-else-if="mode === \'manual\'"\n\t\t\t\tclass="account-form__submit-button"\n\t\t\t\ttype="primary"\n\t\t\t\tnative-type="submit"\n\t\t\t\t:disabled="isDisabledManual || loading"\n\t\t\t\t@click.prevent="onSubmit">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconLoading v-if="loading" :size="20" />\n\t\t\t\t\t<IconCheck v-else :size="20" />\n\t\t\t\t</template>\n\t\t\t\t{{ submitButtonText }}\n\t\t\t</ButtonVue>\n\t\t</div>\n\t\t<div v-if="feedback" class="account-form--feedback">\n\t\t\t{{ feedback }}\n\t\t</div>\n\t</form>\n</template>\n\n<script>\nimport { Tab, Tabs } from \'vue-tabs-component\'\nimport { NcButton as ButtonVue, NcLoadingIcon as IconLoading } from \'@nextcloud/vue\'\nimport IconCheck from \'vue-material-design-icons/Check\'\nimport { translate as t } from \'@nextcloud/l10n\'\n\nimport logger from \'../logger\'\nimport { testConnectivity, queryIspdb, queryMx } from \'../service/AutoConfigService\'\n\nexport default {\n\tname: \'AccountForm\',\n\tcomponents: {\n\t\tTab,\n\t\tTabs,\n\t\tButtonVue,\n\t\tIconLoading,\n\t\tIconCheck,\n\t},\n\tprops: {\n\t\tdisplayName: {\n\t\t\ttype: String,\n\t\t\tdefault: \'\',\n\t\t},\n\t\temail: {\n\t\t\ttype: String,\n\t\t\tdefault: \'\',\n\t\t},\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: () => undefined,\n\t\t},\n\t},\n\tdata() {\n\t\tconst fromAccountOr = (prop, def) => {\n\t\t\tif (this.account !== undefined) {\n\t\t\t\treturn this.account[prop]\n\t\t\t} else {\n\t\t\t\treturn def\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tloading: false,\n\t\t\tloadingMessage: undefined,\n\t\t\tmode: \'auto\',\n\t\t\taccountName: this.displayName,\n\t\t\temailAddress: this.email,\n\t\t\tautoConfig: {\n\t\t\t\tpassword: \'\',\n\t\t\t},\n\t\t\tmanualConfig: {\n\t\t\t\timapHost: fromAccountOr(\'imapHost\', \'\'),\n\t\t\t\timapPort: fromAccountOr(\'imapPort\', 993),\n\t\t\t\timapSslMode: fromAccountOr(\'imapSslMode\', \'ssl\'),\n\t\t\t\timapUser: fromAccountOr(\'imapUser\', \'\'),\n\t\t\t\timapPassword: \'\',\n\t\t\t\tsmtpHost: fromAccountOr(\'smtpHost\', \'\'),\n\t\t\t\tsmtpPort: fromAccountOr(\'smtpPort\', 587),\n\t\t\t\tsmtpSslMode: fromAccountOr(\'smtpSslMode\', \'tls\'),\n\t\t\t\tsmtpUser: fromAccountOr(\'smtpUser\', \'\'),\n\t\t\t\tsmtpPassword: \'\',\n\t\t\t},\n\t\t\tfeedback: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\tsettingsPage() {\n\t\t\treturn this.account !== undefined\n\t\t},\n\n\t\tisDisabledAuto() {\n\t\t\tif (this.mode !== \'auto\') {\n\t\t\t\treturn this.loading\n\t\t\t}\n\n\t\t\treturn !this.emailAddress || !this.isValidEmail(this.emailAddress)\n\t\t\t\t|| !this.autoConfig.password\n\t\t},\n\n\t\tisDisabledManual() {\n\t\t\tif (this.mode !== \'manual\') {\n\t\t\t\treturn this.loading\n\t\t\t}\n\n\t\t\treturn !this.emailAddress || !this.isValidEmail(this.emailAddress)\n\t\t\t\t|| !this.manualConfig.imapHost || !this.manualConfig.imapPort\n\t\t\t\t|| !this.manualConfig.imapUser || !this.manualConfig.imapPassword\n\t\t\t\t|| !this.manualConfig.smtpHost || !this.manualConfig.smtpPort\n\t\t\t\t|| !this.manualConfig.smtpUser || !this.manualConfig.smtpPassword\n\t\t},\n\n\t\tsubmitButtonText() {\n\t\t\tif (this.loading) {\n\t\t\t\treturn this.loadingMessage ?? t(\'mail\', \'Connecting\')\n\t\t\t}\n\t\t\treturn this.account ? t(\'mail\', \'Save\') : t(\'mail\', \'Connect\')\n\t\t},\n\t},\n\tmethods: {\n\t\tonModeChanged(e) {\n\t\t\tthis.mode = e.tab.id\n\n\t\t\tif (this.mode === \'manual\') {\n\t\t\t\t// IMAP\n\t\t\t\tif (this.manualConfig.imapUser === \'\') {\n\t\t\t\t\tthis.manualConfig.imapUser = this.emailAddress\n\t\t\t\t}\n\t\t\t\tif (this.manualConfig.imapPassword === \'\') {\n\t\t\t\t\tthis.manualConfig.imapPassword = this.autoConfig.password\n\t\t\t\t}\n\n\t\t\t\t// SMTP\n\t\t\t\tif (this.manualConfig.smtpUser === \'\') {\n\t\t\t\t\tthis.manualConfig.smtpUser = this.emailAddress\n\t\t\t\t}\n\t\t\t\tif (this.manualConfig.smtpPassword === \'\') {\n\t\t\t\t\tthis.manualConfig.smtpPassword = this.autoConfig.password\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonImapSslModeChange() {\n\t\t\tthis.clearFeedback()\n\n\t\t\tswitch (this.manualConfig.imapSslMode) {\n\t\t\tcase \'none\':\n\t\t\tcase \'tls\':\n\t\t\t\tthis.manualConfig.imapPort = 143\n\t\t\t\tbreak\n\t\t\tcase \'ssl\':\n\t\t\t\tthis.manualConfig.imapPort = 993\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tonSmtpSslModeChange() {\n\t\t\tthis.clearFeedback()\n\n\t\t\tswitch (this.manualConfig.smtpSslMode) {\n\t\t\tcase \'none\':\n\t\t\tcase \'tls\':\n\t\t\t\tthis.manualConfig.smtpPort = 587\n\t\t\t\tbreak\n\t\t\tcase \'ssl\':\n\t\t\t\tthis.manualConfig.smtpPort = 465\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tclearFeedback() {\n\t\t\tthis.feedback = null\n\t\t},\n\t\tapplyAutoConfig(config) {\n\t\t\tif (!config) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tif (config?.imapConfig) {\n\t\t\t\tthis.manualConfig.imapUser = config.imapConfig.username\n\t\t\t\tthis.manualConfig.imapHost = config.imapConfig.host\n\t\t\t\tthis.manualConfig.imapPort = config.imapConfig.port\n\t\t\t\tthis.manualConfig.imapSslMode = config.imapConfig.security\n\t\t\t\tthis.manualConfig.imapPassword = this.autoConfig.password\n\t\t\t}\n\t\t\tif (config?.smtpConfig) {\n\t\t\t\tthis.manualConfig.smtpUser = config.smtpConfig.username\n\t\t\t\tthis.manualConfig.smtpHost = config.smtpConfig.host\n\t\t\t\tthis.manualConfig.smtpPort = config.smtpConfig.port\n\t\t\t\tthis.manualConfig.smtpSslMode = config.smtpConfig.security\n\t\t\t\tthis.manualConfig.smtpPassword = this.autoConfig.password\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\t\tasync detectConfig() {\n\t\t\tthis.loadingMessage = t(\'mail\', \'Looking up configuration\')\n\t\t\tconst config = await queryIspdb(this.emailAddress)\n\t\t\tlogger.debug(\'fetched auto config\', { config })\n\t\t\t// Apply settings to manual mode before submitting so the user\n\t\t\t// can make modifications if the config fails\n\t\t\tif (this.applyAutoConfig(config)) {\n\t\t\t\tlogger.debug(\'ISP DB config applied\')\n\t\t\t\treturn true\n\t\t\t} else {\n\t\t\t\tthis.loadingMessage = t(\'mail\', \'Checking mail host connectivity\')\n\t\t\t\tconst mxHosts = await queryMx(this.emailAddress)\n\t\t\t\tlogger.debug(\'MX hosts fetched\', { mxHosts })\n\t\t\t\tconst imapAndSmtpHosts = mxHosts.flatMap(host => {\n\t\t\t\t\treturn [993, 143, 465, 587].map(port => ({\n\t\t\t\t\t\thost,\n\t\t\t\t\t\tport,\n\t\t\t\t\t}))\n\t\t\t\t})\n\t\t\t\tconst results = await Promise.all(imapAndSmtpHosts.map(async ({ host, port }) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\thost,\n\t\t\t\t\t\tport,\n\t\t\t\t\t\tcanConnect: await testConnectivity(host, port),\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t\t\tconst firstImapHost = results.filter(({ canConnect, port }) => canConnect && port === 993)[0]\n\t\t\t\tconst firstSmtpHost = results.filter(({ canConnect, port }) => canConnect && [465, 587].includes(port))[0]\n\t\t\t\tlogger.debug(\'MX connectivity tested\', { firstImapHost, firstSmtpHost })\n\t\t\t\tif (firstImapHost && firstSmtpHost) {\n\t\t\t\t\tthis.applyAutoConfig({\n\t\t\t\t\t\timapConfig: {\n\t\t\t\t\t\t\tusername: this.emailAddress, // Assumption\n\t\t\t\t\t\t\thost: firstImapHost.host,\n\t\t\t\t\t\t\tport: firstImapHost.port,\n\t\t\t\t\t\t\tsecurity: firstImapHost.port === 993 ? \'ssl\' : \'tls\',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsmtpConfig: {\n\t\t\t\t\t\t\tusername: this.emailAddress, // Assumption\n\t\t\t\t\t\t\thost: firstSmtpHost.host,\n\t\t\t\t\t\t\tport: firstSmtpHost.port,\n\t\t\t\t\t\t\tsecurity: firstSmtpHost.port === 465 ? \'ssl\' : \'tls\',\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\tthis.feedback = t(\'mail\', \'Configuration discovery failed. Please use the manual settings\')\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t}\n\t\t},\n\t\tasync onSubmit(event) {\n\t\t\tlogger.debug(\'account form submitted\', { event })\n\t\t\tif (this.isDisabledManual || this.isDisabledAuto) {\n\t\t\t\tlogger.warn(\'submit is disabled\')\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.clearFeedback()\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tif (this.mode === \'auto\') {\n\t\t\t\t\tif (!await this.detectConfig()) {\n\t\t\t\t\t\tlogger.warn(\'Auto mode failed\')\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.loadingMessage = t(\'mail\', \'Testing authentication\')\n\t\t\t\tconst data = {\n\t\t\t\t\t...this.manualConfig,\n\t\t\t\t\taccountName: this.accountName,\n\t\t\t\t\temailAddress: this.emailAddress,\n\t\t\t\t\timapHost: this.manualConfig.imapHost.trim(),\n\t\t\t\t\tsmtpHost: this.manualConfig.smtpHost.trim(),\n\t\t\t\t}\n\t\t\t\tif (!this.account) {\n\t\t\t\t\tconst account = await this.$store.dispatch(\'createAccount\', data)\n\t\t\t\t\tthis.feedback = t(\'mail\', \'Account created\')\n\t\t\t\t\tthis.$emit(\'account-created\', account)\n\t\t\t\t} else {\n\t\t\t\t\tconst account = await this.$store.dispatch(\'updateAccount\', {\n\t\t\t\t\t\t...data,\n\t\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\t})\n\t\t\t\t\tthis.feedback = t(\'mail\', \'Account updated\')\n\t\t\t\t\tthis.$emit(\'account-updated\', account)\n\t\t\t\t}\n\t\t\t\tthis.feedback = t(\'mail\', \'Changes saved\')\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(\'could not save account details\', { error })\n\n\t\t\t\tif (error.data?.error === \'CONNECTION_ERROR\') {\n\t\t\t\t\tif (error.data.service === \'IMAP\') {\n\t\t\t\t\t\tthis.feedback = t(\'mail\', \'IMAP server is not reachable\')\n\t\t\t\t\t} else if (error.data.service === \'SMTP\') {\n\t\t\t\t\t\tthis.feedback = t(\'mail\', \'SMTP server is not reachable\')\n\t\t\t\t\t}\n\t\t\t\t} else if (error.data?.error === \'AUTHENTICATION\') {\n\t\t\t\t\tif (error.data.service === \'IMAP\') {\n\t\t\t\t\t\tthis.feedback = t(\'mail\', \'IMAP username or password is wrong\')\n\t\t\t\t\t} else if (error.data.service === \'SMTP\') {\n\t\t\t\t\t\tthis.feedback = t(\'mail\', \'SMTP username or password is wrong\')\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (error.data?.service === \'IMAP\') {\n\t\t\t\t\t\tthis.feedback = t(\'mail\', \'IMAP connection failed\')\n\t\t\t\t\t} else if (error.data?.service === \'SMTP\') {\n\t\t\t\t\t\tthis.feedback = t(\'mail\', \'SMTP connection failed\')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.feedback = t(\'mail\', \'There was an error while setting up your account\')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t\tthis.loadingMessage = undefined\n\t\t\t}\n\t\t},\n\t\tisValidEmail(email) {\n\t\t\tconst regExpEmail = /^(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\t\treturn regExpEmail.test(email)\n\t\t},\n\t},\n}\n<\/script>\n\n<style lang="scss" scoped>\n::v-deep .tabs-component-tabs {\n\tdisplay: flex;\n}\n\n::v-deep .tabs-component-tab {\n\tflex-grow: 1;\n\ttext-align: center;\n\tcolor: var(--color-text-lighter);\n\tmargin-bottom: 10px;\n}\n\n::v-deep .tabs-component-tab.is-active {\n\tborder-bottom: 1px solid black;\n\tfont-weight: bold;\n}\n\n.tabs-component-panels {\n\tpadding-top: 20px;\n}\n\n.tabs-component-panels label {\n\ttext-align: left;\n\twidth: 100%;\n\tdisplay: inline-block;\n}\n\n.tabs-component-panels input,\n.tabs-component-panels select {\n\tmargin-bottom: 10px;\n}\n</style>\n\n<style scoped>\nh4 {\n\ttext-align: left;\n}\n\n.flex-row {\n\tdisplay: flex;\n}\n\nlabel.button {\n\tdisplay: inline-block;\n\ttext-align: center;\n\tflex-grow: 1;\n}\nlabel.primary {\n\tcolor: var(--color-main-background);\n}\ninput.primary {\n\tcolor: var(--color-main-background);\n}\n\ninput[type=\'radio\'] {\n\tdisplay: none;\n}\n\ninput[type=\'radio\'][disabled] + label {\n\tcursor: default;\n\topacity: 0.5;\n}\n.account-form__label--required:after {\n\tcontent:" *";\n}\n.account-form__heading--required:after {\n\tcontent:" *";\n}\n.account-form__submit-buttons {\n\tdisplay: flex;\n\tjustify-content: center;\n\tmargin-top: 5px;\n}\n.account-form__submit-button {\n\tdisplay: flex;\n\talign-items: center;\n}\n.account-form--feedback {\n\tcolor: var(--color-text-maxcontrast);\n\tmargin-top: 5px;\n\ttext-align: center;\n}\n.account-form--error {\n\ttext-align: left;\n\tfont-size: 14px;\n}\n#account-form {\n\tz-index: 1001;\n\twidth: 250px;\n\ttop: 15%;\n\tpadding-bottom: 50px;\n\tmargin: 0 auto;\n\tpadding-top: 30px;\n}\n#account-form input {\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n</style>\n'],sourceRoot:""}]),e.Z=a},52861:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"\n.vue-treeselect__control {\n\tpadding: 0;\n\tborder: 0;\n\twidth: 250px;\n}\n.vue-treeselect__control-arrow-container {\n\tdisplay: none;\n}\n.vue-treeselect--searchable .vue-treeselect__input-container {\n\tpadding-left: 0;\n}\ninput.vue-treeselect__input {\n\tmargin: 0;\n\tpadding: 0;\n}\n","",{version:3,sources:["webpack://./src/components/MailboxInlinePicker.vue"],names:[],mappings:";AAsEA;CACA,UAAA;CACA,SAAA;CACA,YAAA;AACA;AACA;CACA,aAAA;AACA;AACA;CACA,eAAA;AACA;AACA;CACA,SAAA;CACA,UAAA;AACA",sourcesContent:['<template>\n\t<Treeselect\n\t\tref="Treeselect"\n\t\tv-model="selected"\n\t\t:options="mailboxes"\n\t\t:multiple="false"\n\t\t:clearable="false"\n\t\t:disabled="disabled" />\n</template>\n<script>\nimport Treeselect from \'@riophae/vue-treeselect\'\nimport \'@riophae/vue-treeselect/dist/vue-treeselect.css\'\n\nexport default {\n\tname: \'MailboxInlinePicker\',\n\tcomponents: {\n\t\tTreeselect,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tvalue: {\n\t\t\ttype: Number,\n\t\t\tdefault: undefined,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselected: this.value,\n\t\t}\n\t},\n\tcomputed: {\n\t\tmailboxes() {\n\t\t\treturn this.getMailboxes()\n\t\t},\n\t},\n\twatch: {\n\t\tselected(val) {\n\t\t\tif (val !== this.value) {\n\t\t\t\tthis.$emit(\'input\', val)\n\t\t\t\tthis.selected = val\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tgetMailboxes(mailboxId) {\n\t\t\tlet mailboxes = []\n\t\t\tif (!mailboxId) {\n\t\t\t\tmailboxes = this.$store.getters.getMailboxes(this.account.accountId)\n\t\t\t} else {\n\t\t\t\tmailboxes = this.$store.getters.getSubMailboxes(mailboxId)\n\t\t\t}\n\t\t\treturn mailboxes.map((mailbox) => {\n\t\t\t\t return {\n\t\t\t\t\tid: mailbox.databaseId,\n\t\t\t\t\tlabel: mailbox.displayName,\n\t\t\t\t\tchildren: mailbox.mailboxes.length > 0 ? this.getMailboxes(mailbox.databaseId) : \'\',\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n}\n<\/script>\n<style>\n.vue-treeselect__control {\n\tpadding: 0;\n\tborder: 0;\n\twidth: 250px;\n}\n.vue-treeselect__control-arrow-container {\n\tdisplay: none;\n}\n.vue-treeselect--searchable .vue-treeselect__input-container {\n\tpadding-left: 0;\n}\ninput.vue-treeselect__input {\n\tmargin: 0;\n\tpadding: 0;\n}\n</style>\n'],sourceRoot:""}]),e.Z=a},38472:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"\nform[data-v-14f1278f] {\n\twidth: 250px\n}\nlabel[data-v-14f1278f] {\n\tdisplay: inline-block;\n}\ninput[data-v-14f1278f] {\n\twidth: 100%;\n}\n.flex-row[data-v-14f1278f] {\n\tdisplay: flex;\n}\nlabel.button[data-v-14f1278f] {\n\ttext-align: center;\n\tflex-grow: 1;\n}\nlabel.error[data-v-14f1278f] {\n\tcolor: red;\n}\ninput[type='radio'][data-v-14f1278f] {\n\tdisplay: none;\n}\n","",{version:3,sources:["webpack://./src/components/SieveAccountForm.vue"],names:[],mappings:";AAwMA;CACA;AACA;AAEA;CACA,qBAAA;AACA;AAEA;CACA,WAAA;AACA;AAEA;CACA,aAAA;AACA;AAEA;CACA,kBAAA;CACA,YAAA;AACA;AAEA;CACA,UAAA;AACA;AAEA;CACA,aAAA;AACA",sourcesContent:['<template>\n\t<form id="sieve-form">\n\t\t<p>\n\t\t\t<input\n\t\t\t\tid="sieve-disabled"\n\t\t\t\tv-model="sieveConfig.sieveEnabled"\n\t\t\t\ttype="radio"\n\t\t\t\tclass="radio"\n\t\t\t\tname="sieve-active"\n\t\t\t\t:value="false">\n\t\t\t<label\n\t\t\t\t:class="{primary: !sieveConfig.sieveEnabled}"\n\t\t\t\tfor="sieve-disabled">\n\t\t\t\t{{ t(\'mail\', \'Disabled\') }}\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tid="sieve-enabled"\n\t\t\t\tv-model="sieveConfig.sieveEnabled"\n\t\t\t\ttype="radio"\n\t\t\t\tclass="radio"\n\t\t\t\tname="sieve-active"\n\t\t\t\t:value="true">\n\t\t\t<label\n\t\t\t\t:class="{primary: sieveConfig.sieveEnabled}"\n\t\t\t\tfor="sieve-enabled">\n\t\t\t\t{{ t(\'mail\', \'Enabled\') }}\n\t\t\t</label>\n\t\t</p>\n\t\t<template v-if="sieveConfig.sieveEnabled">\n\t\t\t<label for="sieve-host">{{ t(\'mail\', \'Sieve Host\') }}</label>\n\t\t\t<input\n\t\t\t\tid="sieve-host"\n\t\t\t\tv-model="sieveConfig.sieveHost"\n\t\t\t\ttype="text"\n\t\t\t\trequired>\n\t\t\t<h4>{{ t(\'mail\', \'Sieve Security\') }}</h4>\n\t\t\t<div class="flex-row">\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-sec-none"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="none">\n\t\t\t\t<label\n\t\t\t\t\tclass="button"\n\t\t\t\t\tfor="sieve-sec-none"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'none\'}">{{\n\t\t\t\t\t\tt(\'mail\', \'None\')\n\t\t\t\t\t}}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-sec-ssl"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="ssl">\n\t\t\t\t<label\n\t\t\t\t\tclass="button"\n\t\t\t\t\tfor="sieve-sec-ssl"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'ssl\'}">\n\t\t\t\t\t{{ t(\'mail\', \'SSL/TLS\') }}\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-sec-tls"\n\t\t\t\t\tv-model="sieveConfig.sieveSslMode"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tname="sieve-sec"\n\t\t\t\t\tvalue="tls">\n\t\t\t\t<label\n\t\t\t\t\tclass="button"\n\t\t\t\t\tfor="sieve-sec-tls"\n\t\t\t\t\t:class="{primary: sieveConfig.sieveSslMode === \'tls\'}">\n\t\t\t\t\t{{ t(\'mail\', \'STARTTLS\') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<label for="sieve-port">{{ t(\'mail\', \'Sieve Port\') }}</label>\n\t\t\t<input\n\t\t\t\tid="sieve-port"\n\t\t\t\tv-model="sieveConfig.sievePort"\n\t\t\t\ttype="text"\n\t\t\t\trequired>\n\t\t\t<h4>{{ t(\'mail\', \'Sieve Credentials\') }}</h4>\n\t\t\t<p>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-credentials-imap"\n\t\t\t\t\tv-model="useImapCredentials"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tclass="radio"\n\t\t\t\t\t:value="true">\n\t\t\t\t<label\n\t\t\t\t\t:class="{primary: useImapCredentials}"\n\t\t\t\t\tfor="sieve-credentials-imap">\n\t\t\t\t\t{{ t(\'mail\', \'IMAP Credentials\') }}\n\t\t\t\t</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-credentials-custom"\n\t\t\t\t\tv-model="useImapCredentials"\n\t\t\t\t\ttype="radio"\n\t\t\t\t\tclass="radio"\n\t\t\t\t\t:value="false">\n\t\t\t\t<label\n\t\t\t\t\t:class="{primary: !useImapCredentials}"\n\t\t\t\t\tfor="sieve-credentials-custom">\n\t\t\t\t\t{{ t(\'mail\', \'Custom\') }}\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<template v-if="!useImapCredentials">\n\t\t\t\t<label for="sieve-user">{{ t(\'mail\', \'Sieve User\') }}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-user"\n\t\t\t\t\tv-model="sieveConfig.sieveUser"\n\t\t\t\t\ttype="text"\n\t\t\t\t\trequired>\n\t\t\t\t<label for="sieve-password">{{\n\t\t\t\t\tt(\'mail\', \'Sieve Password\')\n\t\t\t\t}}</label>\n\t\t\t\t<input\n\t\t\t\t\tid="sieve-password"\n\t\t\t\t\tv-model="sieveConfig.sievePassword"\n\t\t\t\t\ttype="password"\n\t\t\t\t\trequired>\n\t\t\t</template>\n\t\t</template>\n\t\t<slot name="feedback" />\n\t\t<p v-if="errorMessage">\n\t\t\t{{ t(\'mail\', \'Oh Snap!\') }}\n\t\t\t{{ errorMessage }}\n\t\t</p>\n\t\t<ButtonVue type="primary"\n\t\t\t:disabled="loading"\n\t\t\t@click.prevent="onSubmit">\n\t\t\t{{ t(\'mail\', \'Save sieve settings\') }}\n\t\t</ButtonVue>\n\t</form>\n</template>\n\n<script>\nimport { NcButton as ButtonVue } from \'@nextcloud/vue\'\nexport default {\n\tname: \'SieveAccountForm\',\n\tcomponents: {\n\t\tButtonVue,\n\t},\n\tprops: {\n\t\taccount: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsieveConfig: {\n\t\t\t\tsieveEnabled: this.account.sieveEnabled,\n\t\t\t\tsieveHost: this.account.sieveHost || this.account.imapHost,\n\t\t\t\tsievePort: this.account.sievePort || 4190,\n\t\t\t\tsieveUser: this.account.sieveUser || \'\',\n\t\t\t\tsievePassword: \'\',\n\t\t\t\tsieveSslMode: this.account.sieveSslMode || \'tls\',\n\t\t\t},\n\t\t\tloading: false,\n\t\t\tuseImapCredentials: !this.account.sieveUser,\n\t\t\terrorMessage: \'\',\n\t\t}\n\t},\n\tmethods: {\n\t\tasync onSubmit() {\n\t\t\tthis.loading = true\n\t\t\tthis.errorMessage = \'\'\n\n\t\t\t// empty user and password => use imap credentials\n\t\t\tif (this.sieveConfig.sieveUser === \'\' && this.sieveConfig.sievePassword === \'\') {\n\t\t\t\tthis.useImapCredentials = true\n\t\t\t}\n\n\t\t\t// clear user and password if imap credentials are used\n\t\t\tif (this.useImapCredentials) {\n\t\t\t\tthis.sieveConfig.sieveUser = \'\'\n\t\t\t\tthis.sieveConfig.sievePassword = \'\'\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch(\'updateSieveAccount\', {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tdata: this.sieveConfig,\n\t\t\t\t})\n\t\t\t\tif (this.sieveConfig.sieveEnabled) {\n\t\t\t\t\tawait this.$store.dispatch(\'fetchActiveSieveScript\', {\n\t\t\t\t\t\taccountId: this.account.id,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis.errorMessage = error.message\n\t\t\t}\n\n\t\t\tthis.loading = false\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\nform {\n\twidth: 250px\n}\n\nlabel {\n\tdisplay: inline-block;\n}\n\ninput {\n\twidth: 100%;\n}\n\n.flex-row {\n\tdisplay: flex;\n}\n\nlabel.button {\n\ttext-align: center;\n\tflex-grow: 1;\n}\n\nlabel.error {\n\tcolor: red;\n}\n\ninput[type=\'radio\'] {\n\tdisplay: none;\n}\n</style>\n'],sourceRoot:""}]),e.Z=a},87559:function(t,e,n){"use strict";var r=n(87537),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([t.id,"\n/*\nOverwrite the default z-index for CKEditor\nhttps://github.com/ckeditor/ckeditor5/issues/1142\n */\n:root {\n\t--ck-z-default: 10000;\n}\n","",{version:3,sources:["webpack://./src/components/TextEditor.vue"],names:[],mappings:";AA6NA;;;EAGA;AACA;CACA,qBAAA;AACA",sourcesContent:["\x3c!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  --\x3e\n\n<template>\n\t<ckeditor\n\t\tv-if=\"ready\"\n\t\t:value=\"value\"\n\t\t:config=\"config\"\n\t\t:editor=\"editor\"\n\t\t:disabled=\"disabled\"\n\t\t@input=\"onEditorInput\"\n\t\t@ready=\"onEditorReady\" />\n</template>\n\n<script>\nimport CKEditor from '@ckeditor/ckeditor5-vue2'\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment'\nimport Editor from '@ckeditor/ckeditor5-editor-balloon/src/ballooneditor'\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials'\nimport BlockQuotePlugin from '@ckeditor/ckeditor5-block-quote/src/blockquote'\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold'\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font'\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph'\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading'\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic'\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link'\nimport ListStyle from '@ckeditor/ckeditor5-list/src/liststyle'\nimport RemoveFormat from '@ckeditor/ckeditor5-remove-format/src/removeformat'\nimport SignaturePlugin from '../ckeditor/signature/SignaturePlugin'\nimport StrikethroughPlugin from '@ckeditor/ckeditor5-basic-styles/src/strikethrough'\nimport QuotePlugin from '../ckeditor/quote/QuotePlugin'\nimport Base64UploadAdapter from '@ckeditor/ckeditor5-upload/src/adapters/base64uploadadapter'\nimport ImagePlugin from '@ckeditor/ckeditor5-image/src/image'\nimport ImageResizePlugin from '@ckeditor/ckeditor5-image/src/imageresize'\nimport ImageUploadPlugin from '@ckeditor/ckeditor5-image/src/imageupload'\nimport MailPlugin from '../ckeditor/mail/MailPlugin'\n\nimport { getLanguage } from '@nextcloud/l10n'\n\nimport logger from '../logger'\n\nexport default {\n\tname: 'TextEditor',\n\tcomponents: {\n\t\tckeditor: CKEditor.component,\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\thtml: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tbus: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\tconst plugins = [EssentialsPlugin, ParagraphPlugin, SignaturePlugin, QuotePlugin]\n\t\tconst toolbar = ['undo', 'redo']\n\n\t\tif (this.html) {\n\t\t\tplugins.push(...[\n\t\t\t\tHeadingPlugin,\n\t\t\t\tAlignmentPlugin,\n\t\t\t\tBoldPlugin,\n\t\t\t\tItalicPlugin,\n\t\t\t\tBlockQuotePlugin,\n\t\t\t\tLinkPlugin,\n\t\t\t\tListStyle,\n\t\t\t\tFontPlugin,\n\t\t\t\tRemoveFormat,\n\t\t\t\tStrikethroughPlugin,\n\t\t\t\tImagePlugin,\n\t\t\t\tImageUploadPlugin,\n\t\t\t\tBase64UploadAdapter,\n\t\t\t\tImageResizePlugin,\n\t\t\t\tMailPlugin,\n\t\t\t])\n\t\t\ttoolbar.unshift(...[\n\t\t\t\t'heading',\n\t\t\t\t'fontFamily',\n\t\t\t\t'fontSize',\n\t\t\t\t'bold',\n\t\t\t\t'italic',\n\t\t\t\t'fontColor',\n\t\t\t\t'imageUpload',\n\t\t\t\t'alignment',\n\t\t\t\t'bulletedList',\n\t\t\t\t'numberedList',\n\t\t\t\t'blockquote',\n\t\t\t\t'fontBackgroundColor',\n\t\t\t\t'strikethrough',\n\t\t\t\t'link',\n\t\t\t\t'removeFormat',\n\t\t\t])\n\t\t}\n\n\t\treturn {\n\t\t\tready: false,\n\t\t\teditor: Editor,\n\t\t\tconfig: {\n\t\t\t\tplaceholder: this.placeholder,\n\t\t\t\tplugins,\n\t\t\t\ttoolbar: {\n\t\t\t\t\titems: toolbar,\n\t\t\t\t},\n\t\t\t\tlanguage: 'en',\n\t\t\t},\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.loadEditorTranslations(getLanguage())\n\t},\n\tmethods: {\n\t\tasync loadEditorTranslations(language) {\n\t\t\tif (language === 'en') {\n\t\t\t\t// The default, nothing to fetch\n\t\t\t\treturn this.showEditor('en')\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tlogger.debug(`loading ${language} translations for CKEditor`)\n\t\t\t\tawait import(\n\t\t\t\t\t/* webpackMode: \"lazy-once\" */\n\t\t\t\t\t/* webpackPrefetch: true */\n\t\t\t\t\t/* webpackPreload: true */\n\t\t\t\t\t`@ckeditor/ckeditor5-build-balloon/build/translations/${language}`\n\t\t\t\t)\n\t\t\t\tthis.showEditor(language)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not find CKEditor translations for \"${language}\"`, { error })\n\t\t\t\tthis.showEditor('en')\n\t\t\t}\n\t\t},\n\t\tshowEditor(language) {\n\t\t\tlogger.debug(`using \"${language}\" as CKEditor language`)\n\t\t\tthis.config.language = language\n\n\t\t\tthis.ready = true\n\t\t},\n\t\t/**\n\t\t * @param {module:core/editor/editor~Editor} editor editor the editor instance\n\t\t */\n\t\tonEditorReady(editor) {\n\t\t\tlogger.debug('TextEditor is ready', { editor })\n\t\t\tthis.editorInstance = editor\n\n\t\t\tif (this.focus) {\n\t\t\t\tlogger.debug('focusing TextEditor')\n\t\t\t\teditor.editing.view.focus()\n\t\t\t}\n\n\t\t\tthis.bus.$on('append-to-body-at-cursor', this.appendToBodyAtCursor)\n\t\t\tthis.$emit('ready', editor)\n\t\t},\n\t\tonEditorInput(text) {\n\t\t\tlogger.debug(`TextEditor input changed to <${text}>`)\n\t\t\tthis.$emit('input', text)\n\t\t},\n\t\tappendToBodyAtCursor(toAppend) {\n\t\t\t// https://ckeditor.com/docs/ckeditor5/latest/builds/guides/faq.html#where-are-the-editorinserthtml-and-editorinserttext-methods-how-to-insert-some-content\n\t\t\tconst viewFragment = this.editorInstance.data.processor.toView(toAppend)\n\t\t\tconst modelFragment = this.editorInstance.data.toModel(viewFragment)\n\t\t\tthis.editorInstance.model.insertContent(modelFragment)\n\t\t},\n\t\teditorExecute(commandName, ...args) {\n\t\t\tif (this.editorInstance) {\n\t\t\t\tthis.editorInstance.execute(commandName, ...args)\n\t\t\t} else {\n\t\t\t\tthrow new Error('Impossible to execute a command before editor is ready.')\n\t\t\t}\n\t\t},\n\t},\n}\n<\/script>\n\n<style lang=\"scss\" scoped>\n::v-deep a {\n\tcolor: #07d;\n}\n::v-deep p {\n\tcursor: text;\n}\n</style>\n\n<style>\n/*\nOverwrite the default z-index for CKEditor\nhttps://github.com/ckeditor/ckeditor5/issues/1142\n */\n:root {\n\t--ck-z-default: 10000;\n}\n</style>\n"],sourceRoot:""}]),e.Z=a},18707:function(t,e,n){"use strict";n.d(e,{Z:function(){return $}});var r=n(73909),o=n(15961),i=n(58441),a=n(9944),s=n(89177),c=n(26937),l=n(79753);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function d(){d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function p(){}function h(){}function m(){}var v={};s(v,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(k([])));y&&y!==e&&n.call(y,o)&&(v=y);var b=m.prototype=p.prototype=Object.create(v);function A(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var d=c.arg,f=d.value;return f&&"object"==u(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=m,s(b,"constructor",m),s(m,"constructor",h),h.displayName=s(m,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},A(x.prototype),s(x.prototype,i,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},A(b),s(b,a,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function f(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,s,"next",t)}function s(t){f(i,r,o,a,s,"throw",t)}a(void 0)}))}}function h(t){return m.apply(this,arguments)}function m(){return(m=p(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get((0,l.generateUrl)("/apps/mail/api/autoconfig/ispdb/{email}",{email:e}));case 2:return t.abrupt("return",t.sent.data.data);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return g.apply(this,arguments)}function g(){return(g=p(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get((0,l.generateUrl)("/apps/mail/api/autoconfig/mx/{email}",{email:e}));case 2:return t.abrupt("return",t.sent.data.data);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return b.apply(this,arguments)}function b(){return(b=p(d().mark((function t(e,n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get((0,l.generateUrl)("/apps/mail/api/autoconfig/test?host={host}&port={port}",{host:e,port:n}));case 2:return t.abrupt("return",t.sent.data.data);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(){_=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==A(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function S(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function k(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){S(i,r,o,a,s,"next",t)}function s(t){S(i,r,o,a,s,"throw",t)}a(void 0)}))}}var E={name:"AccountForm",components:{Tab:r.Tab,Tabs:r.Tabs,ButtonVue:o.P2,IconLoading:o.lb,IconCheck:i.default},props:{displayName:{type:String,default:""},email:{type:String,default:""},account:{type:Object,required:!1,default:function(){}}},data:function(){var t=this,e=function(e,n){return void 0!==t.account?t.account[e]:n};return{loading:!1,loadingMessage:void 0,mode:"auto",accountName:this.displayName,emailAddress:this.email,autoConfig:{password:""},manualConfig:{imapHost:e("imapHost",""),imapPort:e("imapPort",993),imapSslMode:e("imapSslMode","ssl"),imapUser:e("imapUser",""),imapPassword:"",smtpHost:e("smtpHost",""),smtpPort:e("smtpPort",587),smtpSslMode:e("smtpSslMode","tls"),smtpUser:e("smtpUser",""),smtpPassword:""},feedback:null}},computed:{settingsPage:function(){return void 0!==this.account},isDisabledAuto:function(){return"auto"!==this.mode?this.loading:!this.emailAddress||!this.isValidEmail(this.emailAddress)||!this.autoConfig.password},isDisabledManual:function(){return"manual"!==this.mode?this.loading:!(this.emailAddress&&this.isValidEmail(this.emailAddress)&&this.manualConfig.imapHost&&this.manualConfig.imapPort&&this.manualConfig.imapUser&&this.manualConfig.imapPassword&&this.manualConfig.smtpHost&&this.manualConfig.smtpPort&&this.manualConfig.smtpUser&&this.manualConfig.smtpPassword)},submitButtonText:function(){var t;return this.loading?null!==(t=this.loadingMessage)&&void 0!==t?t:(0,a.translate)("mail","Connecting"):this.account?(0,a.translate)("mail","Save"):(0,a.translate)("mail","Connect")}},methods:{onModeChanged:function(t){this.mode=t.tab.id,"manual"===this.mode&&(""===this.manualConfig.imapUser&&(this.manualConfig.imapUser=this.emailAddress),""===this.manualConfig.imapPassword&&(this.manualConfig.imapPassword=this.autoConfig.password),""===this.manualConfig.smtpUser&&(this.manualConfig.smtpUser=this.emailAddress),""===this.manualConfig.smtpPassword&&(this.manualConfig.smtpPassword=this.autoConfig.password))},onImapSslModeChange:function(){switch(this.clearFeedback(),this.manualConfig.imapSslMode){case"none":case"tls":this.manualConfig.imapPort=143;break;case"ssl":this.manualConfig.imapPort=993}},onSmtpSslModeChange:function(){switch(this.clearFeedback(),this.manualConfig.smtpSslMode){case"none":case"tls":this.manualConfig.smtpPort=587;break;case"ssl":this.manualConfig.smtpPort=465}},clearFeedback:function(){this.feedback=null},applyAutoConfig:function(t){return!!t&&(null!=t&&t.imapConfig&&(this.manualConfig.imapUser=t.imapConfig.username,this.manualConfig.imapHost=t.imapConfig.host,this.manualConfig.imapPort=t.imapConfig.port,this.manualConfig.imapSslMode=t.imapConfig.security,this.manualConfig.imapPassword=this.autoConfig.password),null!=t&&t.smtpConfig&&(this.manualConfig.smtpUser=t.smtpConfig.username,this.manualConfig.smtpHost=t.smtpConfig.host,this.manualConfig.smtpPort=t.smtpConfig.port,this.manualConfig.smtpSslMode=t.smtpConfig.security,this.manualConfig.smtpPassword=this.autoConfig.password),!0)},detectConfig:function(){var t=this;return k(_().mark((function e(){var n,r,o,i,c,l;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingMessage=(0,a.translate)("mail","Looking up configuration"),e.next=3,h(t.emailAddress);case 3:if(n=e.sent,s.Z.debug("fetched auto config",{config:n}),!t.applyAutoConfig(n)){e.next=10;break}return s.Z.debug("ISP DB config applied"),e.abrupt("return",!0);case 10:return t.loadingMessage=(0,a.translate)("mail","Checking mail host connectivity"),e.next=13,v(t.emailAddress);case 13:return r=e.sent,s.Z.debug("MX hosts fetched",{mxHosts:r}),o=r.flatMap((function(t){return[993,143,465,587].map((function(e){return{host:t,port:e}}))})),e.next=18,Promise.all(o.map(function(){var t=k(_().mark((function t(e){var n,r;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.host,r=e.port,t.t0=n,t.t1=r,t.next=5,y(n,r);case 5:return t.t2=t.sent,t.abrupt("return",{host:t.t0,port:t.t1,canConnect:t.t2});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 18:if(i=e.sent,c=i.filter((function(t){var e=t.canConnect,n=t.port;return e&&993===n}))[0],l=i.filter((function(t){var e=t.canConnect,n=t.port;return e&&[465,587].includes(n)}))[0],s.Z.debug("MX connectivity tested",{firstImapHost:c,firstSmtpHost:l}),!c||!l){e.next=27;break}return t.applyAutoConfig({imapConfig:{username:t.emailAddress,host:c.host,port:c.port,security:993===c.port?"ssl":"tls"},smtpConfig:{username:t.emailAddress,host:l.host,port:l.port,security:465===l.port?"ssl":"tls"}}),e.abrupt("return",!0);case 27:t.feedback=(0,a.translate)("mail","Configuration discovery failed. Please use the manual settings");case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}}),e)})))()},onSubmit:function(t){var e=this;return k(_().mark((function n(){var r,o,i,c,l,u,d;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.Z.debug("account form submitted",{event:t}),!e.isDisabledManual&&!e.isDisabledAuto){n.next=4;break}return s.Z.warn("submit is disabled"),n.abrupt("return");case 4:if(e.clearFeedback(),e.loading=!0,n.prev=6,"auto"!==e.mode){n.next=13;break}return n.next=10,e.detectConfig();case 10:if(n.sent){n.next=13;break}return s.Z.warn("Auto mode failed"),n.abrupt("return");case 13:if(e.loadingMessage=(0,a.translate)("mail","Testing authentication"),r=w(w({},e.manualConfig),{},{accountName:e.accountName,emailAddress:e.emailAddress,imapHost:e.manualConfig.imapHost.trim(),smtpHost:e.manualConfig.smtpHost.trim()}),e.account){n.next=23;break}return n.next=18,e.$store.dispatch("createAccount",r);case 18:o=n.sent,e.feedback=(0,a.translate)("mail","Account created"),e.$emit("account-created",o),n.next=28;break;case 23:return n.next=25,e.$store.dispatch("updateAccount",w(w({},r),{},{accountId:e.account.id}));case 25:i=n.sent,e.feedback=(0,a.translate)("mail","Account updated"),e.$emit("account-updated",i);case 28:e.feedback=(0,a.translate)("mail","Changes saved"),n.next=35;break;case 31:n.prev=31,n.t0=n.catch(6),s.Z.error("could not save account details",{error:n.t0}),"CONNECTION_ERROR"===(null===(c=n.t0.data)||void 0===c?void 0:c.error)?"IMAP"===n.t0.data.service?e.feedback=(0,a.translate)("mail","IMAP server is not reachable"):"SMTP"===n.t0.data.service&&(e.feedback=(0,a.translate)("mail","SMTP server is not reachable")):"AUTHENTICATION"===(null===(l=n.t0.data)||void 0===l?void 0:l.error)?"IMAP"===n.t0.data.service?e.feedback=(0,a.translate)("mail","IMAP username or password is wrong"):"SMTP"===n.t0.data.service&&(e.feedback=(0,a.translate)("mail","SMTP username or password is wrong")):"IMAP"===(null===(u=n.t0.data)||void 0===u?void 0:u.service)?e.feedback=(0,a.translate)("mail","IMAP connection failed"):"SMTP"===(null===(d=n.t0.data)||void 0===d?void 0:d.service)?e.feedback=(0,a.translate)("mail","SMTP connection failed"):e.feedback=(0,a.translate)("mail","There was an error while setting up your account");case 35:return n.prev=35,e.loading=!1,e.loadingMessage=void 0,n.finish(35);case 39:case"end":return n.stop()}}),n,null,[[6,31,35,39]])})))()},isValidEmail:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}}},L=E,P=n(93379),I=n.n(P),O=n(7795),M=n.n(O),j=n(90569),T=n.n(j),N=n(3565),B=n.n(N),D=n(19216),Z=n.n(D),F=n(44589),U=n.n(F),G=n(79608),R={};R.styleTagTransform=U(),R.setAttributes=B(),R.insert=T().bind(null,"head"),R.domAPI=M(),R.insertStyleElement=Z(),I()(G.Z,R),G.Z&&G.Z.locals&&G.Z.locals;var q=n(7076),z={};z.styleTagTransform=U(),z.setAttributes=B(),z.insert=T().bind(null,"head"),z.domAPI=M(),z.insertStyleElement=Z(),I()(q.Z,z),q.Z&&q.Z.locals&&q.Z.locals;var H=(0,n(51900).Z)(L,(function(){var t=this,e=t._self._c;return e("form",{attrs:{id:"account-form"},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("Tabs",{attrs:{options:{useUrlFragment:!1,defaultTabHash:t.settingsPage?"manual":"auto"},"cache-lifetime":"0"},on:{changed:t.onModeChanged}},[e("Tab",{key:"auto",attrs:{id:"auto",name:t.t("mail","Auto")}},[e("label",{attrs:{for:"auto-name"}},[t._v(t._s(t.t("mail","Name")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.accountName,expression:"accountName"}],attrs:{id:"auto-name",type:"text",placeholder:t.t("mail","Name"),disabled:t.loading,autofocus:""},domProps:{value:t.accountName},on:{input:function(e){e.target.composing||(t.accountName=e.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"auto-address"}},[t._v(t._s(t.t("mail","Mail address")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.emailAddress,expression:"emailAddress",modifiers:{lazy:!0}}],attrs:{id:"auto-address",disabled:t.loading,placeholder:t.t("mail","name@example.org"),required:"",type:"email"},domProps:{value:t.emailAddress},on:{blur:function(e){return t.isValidEmail(t.emailAddress)},change:[function(e){t.emailAddress=e.target.value},t.clearFeedback]}}),t._v(" "),t.isValidEmail(t.emailAddress)?t._e():e("p",{staticClass:"account-form--error"},[t._v("\n\t\t\t\t"+t._s(t.t("mail","Please enter an email of the format name@example.com"))+"\n\t\t\t")]),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"auto-password"}},[t._v(t._s(t.t("mail","Password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.autoConfig.password,expression:"autoConfig.password"}],attrs:{id:"auto-password",disabled:t.loading,placeholder:t.t("mail","Password"),required:"",type:"password"},domProps:{value:t.autoConfig.password},on:{change:t.clearFeedback,input:function(e){e.target.composing||t.$set(t.autoConfig,"password",e.target.value)}}})]),t._v(" "),e("Tab",{key:"manual",attrs:{id:"manual",name:t.t("mail","Manual")}},[e("label",{attrs:{for:"man-name"}},[t._v(t._s(t.t("mail","Name")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.accountName,expression:"accountName"}],attrs:{id:"man-name",type:"text",placeholder:t.t("mail","Name"),disabled:t.loading},domProps:{value:t.accountName},on:{input:function(e){e.target.composing||(t.accountName=e.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-address"}},[t._v(t._s(t.t("mail","Mail address")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.emailAddress,expression:"emailAddress",modifiers:{lazy:!0}}],attrs:{id:"man-address",type:"email",placeholder:t.t("mail","name@example.org"),disabled:t.loading,required:""},domProps:{value:t.emailAddress},on:{blur:function(e){return t.isValidEmail(t.emailAddress)},change:[function(e){t.emailAddress=e.target.value},t.clearFeedback]}}),t._v(" "),t.isValidEmail(t.emailAddress)?t._e():e("p",{staticClass:"account-form--error"},[t._v("\n\t\t\t\t"+t._s(t.t("mail","Please enter an email of the format name@example.com"))+"\n\t\t\t")]),t._v(" "),e("h3",[t._v(t._s(t.t("mail","IMAP Settings")))]),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-imap-host"}},[t._v(t._s(t.t("mail","IMAP Host")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapHost,expression:"manualConfig.imapHost"}],attrs:{id:"man-imap-host",type:"text",placeholder:t.t("mail","IMAP Host"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.imapHost},on:{change:t.clearFeedback,input:function(e){e.target.composing||t.$set(t.manualConfig,"imapHost",e.target.value)}}}),t._v(" "),e("h4",{staticClass:"account-form__heading--required"},[t._v("\n\t\t\t\t"+t._s(t.t("mail","IMAP Security"))+"\n\t\t\t")]),t._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-none",type:"radio",name:"man-imap-sec",disabled:t.loading,value:"none"},domProps:{checked:t._q(t.manualConfig.imapSslMode,"none")},on:{change:[function(e){return t.$set(t.manualConfig,"imapSslMode","none")},t.onImapSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"none"===t.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-none"}},[t._v(t._s(t.t("mail","None")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-ssl",type:"radio",name:"man-imap-sec",disabled:t.loading,value:"ssl"},domProps:{checked:t._q(t.manualConfig.imapSslMode,"ssl")},on:{change:[function(e){return t.$set(t.manualConfig,"imapSslMode","ssl")},t.onImapSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===t.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-ssl"}},[t._v(t._s(t.t("mail","SSL/TLS")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapSslMode,expression:"manualConfig.imapSslMode"}],attrs:{id:"man-imap-sec-tls",type:"radio",name:"man-imap-sec",disabled:t.loading,value:"tls"},domProps:{checked:t._q(t.manualConfig.imapSslMode,"tls")},on:{change:[function(e){return t.$set(t.manualConfig,"imapSslMode","tls")},t.onImapSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===t.manualConfig.imapSslMode},attrs:{for:"man-imap-sec-tls"}},[t._v(t._s(t.t("mail","STARTTLS")))])]),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-imap-port"}},[t._v(t._s(t.t("mail","IMAP Port")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapPort,expression:"manualConfig.imapPort"}],attrs:{id:"man-imap-port",type:"number",placeholder:t.t("mail","IMAP Port"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.imapPort},on:{change:t.clearFeedback,input:function(e){e.target.composing||t.$set(t.manualConfig,"imapPort",e.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-imap-user"}},[t._v(t._s(t.t("mail","IMAP User")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapUser,expression:"manualConfig.imapUser"}],attrs:{id:"man-imap-user",type:"text",placeholder:t.t("mail","IMAP User"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.imapUser},on:{change:t.clearFeedback,input:function(e){e.target.composing||t.$set(t.manualConfig,"imapUser",e.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-imap-password"}},[t._v(t._s(t.t("mail","IMAP Password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.imapPassword,expression:"manualConfig.imapPassword"}],attrs:{id:"man-imap-password",type:"password",placeholder:t.t("mail","IMAP Password"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.imapPassword},on:{change:t.clearFeedback,input:function(e){e.target.composing||t.$set(t.manualConfig,"imapPassword",e.target.value)}}}),t._v(" "),e("h3",[t._v(t._s(t.t("mail","SMTP Settings")))]),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-smtp-host"}},[t._v(t._s(t.t("mail","SMTP Host")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpHost,expression:"manualConfig.smtpHost"}],ref:"smtpHost",attrs:{id:"man-smtp-host",type:"text",name:"smtp-host",placeholder:t.t("mail","SMTP Host"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.smtpHost},on:{change:t.clearFeedback,input:function(e){e.target.composing||t.$set(t.manualConfig,"smtpHost",e.target.value)}}}),t._v(" "),e("h4",{staticClass:"account-form__heading--required"},[t._v("\n\t\t\t\t"+t._s(t.t("mail","SMTP Security"))+"\n\t\t\t")]),t._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-none",type:"radio",name:"man-smtp-sec",disabled:t.loading,value:"none"},domProps:{checked:t._q(t.manualConfig.smtpSslMode,"none")},on:{change:[function(e){return t.$set(t.manualConfig,"smtpSslMode","none")},t.onSmtpSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"none"===t.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-none"}},[t._v(t._s(t.t("mail","None")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-ssl",type:"radio",name:"man-smtp-sec",disabled:t.loading,value:"ssl"},domProps:{checked:t._q(t.manualConfig.smtpSslMode,"ssl")},on:{change:[function(e){return t.$set(t.manualConfig,"smtpSslMode","ssl")},t.onSmtpSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===t.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-ssl"}},[t._v(t._s(t.t("mail","SSL/TLS")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpSslMode,expression:"manualConfig.smtpSslMode"}],attrs:{id:"man-smtp-sec-tls",type:"radio",name:"man-smtp-sec",disabled:t.loading,value:"tls"},domProps:{checked:t._q(t.manualConfig.smtpSslMode,"tls")},on:{change:[function(e){return t.$set(t.manualConfig,"smtpSslMode","tls")},t.onSmtpSslModeChange]}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===t.manualConfig.smtpSslMode},attrs:{for:"man-smtp-sec-tls"}},[t._v(t._s(t.t("mail","STARTTLS")))])]),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-smtp-port"}},[t._v(t._s(t.t("mail","SMTP Port")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpPort,expression:"manualConfig.smtpPort"}],attrs:{id:"man-smtp-port",type:"number",placeholder:t.t("mail","SMTP Port"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.smtpPort},on:{change:t.clearFeedback,input:function(e){e.target.composing||t.$set(t.manualConfig,"smtpPort",e.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-smtp-user"}},[t._v(t._s(t.t("mail","SMTP User")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpUser,expression:"manualConfig.smtpUser"}],attrs:{id:"man-smtp-user",type:"text",placeholder:t.t("mail","SMTP User"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.smtpUser},on:{change:t.clearFeedback,input:function(e){e.target.composing||t.$set(t.manualConfig,"smtpUser",e.target.value)}}}),t._v(" "),e("label",{staticClass:"account-form__label--required",attrs:{for:"man-smtp-password"}},[t._v(t._s(t.t("mail","SMTP Password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.manualConfig.smtpPassword,expression:"manualConfig.smtpPassword"}],attrs:{id:"man-smtp-password",type:"password",placeholder:t.t("mail","SMTP Password"),disabled:t.loading,required:""},domProps:{value:t.manualConfig.smtpPassword},on:{change:t.clearFeedback,input:function(e){e.target.composing||t.$set(t.manualConfig,"smtpPassword",e.target.value)}}})])],1),t._v(" "),e("div",{staticClass:"account-form__submit-buttons"},["auto"===t.mode?e("ButtonVue",{staticClass:"account-form__submit-button",attrs:{type:"primary","native-type":"submit",disabled:t.isDisabledAuto||t.loading},on:{click:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}],null,!1,4145190044)},[t._v("\n\t\t\t"+t._s(t.submitButtonText)+"\n\t\t")]):"manual"===t.mode?e("ButtonVue",{staticClass:"account-form__submit-button",attrs:{type:"primary","native-type":"submit",disabled:t.isDisabledManual||t.loading},on:{click:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t\t"+t._s(t.submitButtonText)+"\n\t\t")]):t._e()],1),t._v(" "),t.feedback?e("div",{staticClass:"account-form--feedback"},[t._v("\n\t\t"+t._s(t.feedback)+"\n\t")]):t._e()],1)}),[],!1,null,"3e16d5a0",null),$=H.exports},16023:function(t,e,n){"use strict";n.d(e,{Z:function(){return P}});var r=n(15961),o=n(11585),i=n(15764),a=n(73229),s=n(7844),c=n(18574),l=n(76188),u=n(34829),d=n(9944),f=n(72488),p={name:"MailboxPicker",components:{ButtonVue:r.P2,Modal:r.Jc,IconInbox:i.Z,IconDraft:a.default,IconSent:s.Z,IconArchive:c.Z,IconTrash:l.Z,IconFolder:u.default,IconBreadcrumb:o.default,IconLoading:r.lb},props:{account:{type:Object,required:!0},selected:{type:Number,required:!1,default:void 0},loading:{type:Boolean,required:!1,default:!1},labelSelect:{type:String,default:(0,d.translate)("mail","Choose")},labelSelectLoading:{type:String,default:(0,d.translate)("mail","Choose")},pickedMailbox:{type:Object,required:!1,default:function(){}},allowRoot:{type:Boolean,default:!1}},data:function(){return{selectedMailboxId:void 0,mailboxCrumbs:[]}},computed:{mailboxes:function(){return this.selectedMailboxId?this.$store.getters.getSubMailboxes(this.selectedMailboxId):this.$store.getters.getMailboxes(this.account.accountId)},filteredMailboxes:function(){var t=this;return this.pickedMailbox?this.mailboxes.filter((function(e){return e.databaseId!==t.pickedMailbox.databaseId})):this.mailboxes}},methods:{getMailboxIcon:function(t){return t.specialRole?"icon-"+t.specialRole:"icon-folder"},getMailboxTitle:function(t){return(0,f.I)(t)},onClickHome:function(){this.selectedMailboxId=void 0,this.$emit("update:selected",void 0),this.mailboxCrumbs=[]},onClickCrumb:function(t){this.selectedMailboxId=this.mailboxCrumbs[t].databaseId,this.$emit("update:selected",this.selectedMailboxId),this.mailboxCrumbs=this.mailboxCrumbs.slice(0,t+1)},onClickMailbox:function(t){this.selectedMailboxId=t.databaseId,this.$emit("update:selected",this.selectedMailboxId),this.mailboxCrumbs.push(t)},onSelect:function(){this.$emit("select",this.selectedMailboxId)},onClose:function(){this.$emit("close")}}},h=n(93379),m=n.n(h),v=n(7795),g=n.n(v),y=n(90569),b=n.n(y),A=n(3565),x=n.n(A),w=n(19216),C=n.n(w),_=n(44589),S=n.n(_),k=n(85801),E={};E.styleTagTransform=S(),E.setAttributes=x(),E.insert=b().bind(null,"head"),E.domAPI=g(),E.insertStyleElement=C(),m()(k.Z,E),k.Z&&k.Z.locals&&k.Z.locals;var L=(0,n(51900).Z)(p,(function(){var t=this,e=t._self._c;return e("Modal",{on:{close:t.onClose}},[e("div",{ref:"content",staticClass:"modal-content"},[e("h2",{staticClass:"oc-dialog-title"},[t._v("\n\t\t\t"+t._s(t.t("mail","Choose target mailbox"))+"\n\t\t")]),t._v(" "),e("span",{staticClass:"crumbs"},[e("div",{on:{click:function(e){return e.preventDefault(),t.onClickHome.apply(null,arguments)}}},[e("IconInbox",{attrs:{size:20}})],1),t._v(" "),t._l(t.mailboxCrumbs,(function(n,r){return e("div",{key:n.databaseId,staticClass:"level"},[e("IconBreadcrumb",{attrs:{size:20}}),t._v(" "),e("a",{on:{click:function(e){return e.preventDefault(),t.onClickCrumb(r)}}},[t._v("\n\t\t\t\t\t"+t._s(t.getMailboxTitle(n))+"\n\t\t\t\t")])],1)}))],2),t._v(" "),e("div",{staticClass:"mailbox-list"},[t.filteredMailboxes.length>0?e("ul",t._l(t.filteredMailboxes,(function(n){return e("li",{key:n.databaseId,on:{click:function(e){return e.preventDefault(),t.onClickMailbox(n)}}},["inbox"===n.specialRole?e("IconInbox",{attrs:{size:20}}):"drafts"===n.specialRole?e("IconDraft",{attrs:{size:20}}):"sent"===n.specialRole?e("IconSent",{attrs:{size:20}}):"archive"===n.specialRole?e("IconArchive",{attrs:{size:20}}):"trash"===n.specialRole?e("IconTrash",{attrs:{size:20}}):e("IconFolder",{attrs:{size:20}}),t._v(" "),e("div",{staticClass:"mailbox-title"},[t._v("\n\t\t\t\t\t\t"+t._s(t.getMailboxTitle(n))+"\n\t\t\t\t\t")])],1)})),0):e("IconFolder",{attrs:{size:65}}),t._v(" "),e("div",{staticClass:"empty-icon empty"}),t._v(" "),e("h2",[t._v(t._s(t.t("mail","No more submailboxes in here")))])],1),t._v(" "),e("div",{staticClass:"buttons"},[e("ButtonVue",{attrs:{type:"primary",disabled:t.loading||!t.allowRoot&&!t.selectedMailboxId},on:{click:t.onSelect},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):t._e()]},proxy:!0}])},[t._v("\n\t\t\t\t"+t._s(t.loading?t.labelSelectLoading:t.labelSelect)+"\n\t\t\t")])],1)])])}),[],!1,null,"549ccf0a",null),P=L.exports},11275:function(e,n,r){"use strict";r.d(n,{Z:function(){return Sr}});var o=r(15961),i=r(3378),a=r(79753),s=r(2568),c=r.n(s),l=r(12085),u=r.n(l),d=r(89177),f=r(71093),p=r(18707),h={name:"EditorSettings",props:{account:{type:Object,required:!0}},data:function(){return{mode:this.account.editorMode}},watch:{mode:function(t,e){var n=this;this.$store.dispatch("patchAccount",{account:this.account,data:{editorMode:t}}).then((function(){d.Z.info("editor mode updated")})).catch((function(t){throw d.Z.error("could not update editor mode",{error:t}),n.editorMode=e,t}))}}},m=r(93379),v=r.n(m),g=r(7795),y=r.n(g),b=r(90569),A=r.n(b),x=r(3565),w=r.n(x),C=r(19216),_=r.n(C),S=r(44589),k=r.n(S),E=r(28066),L={};L.styleTagTransform=k(),L.setAttributes=w(),L.insert=A().bind(null,"head"),L.domAPI=y(),L.insertStyleElement=_(),v()(E.Z,L),E.Z&&E.Z.locals&&E.Z.locals;var P=r(51900),I=(0,P.Z)(h,(function(){var t=this,e=t._self._c;return e("div",[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"radio",attrs:{id:"plaintext",type:"radio",value:"plaintext"},domProps:{checked:t._q(t.mode,"plaintext")},on:{change:function(e){t.mode="plaintext"}}}),t._v(" "),e("label",{class:{primary:"plaintext"===t.mode},attrs:{for:"plaintext"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Plain text"))+"\n\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"radio",attrs:{id:"richtext",type:"radio",value:"richtext"},domProps:{checked:t._q(t.mode,"richtext")},on:{change:function(e){t.mode="richtext"}}}),t._v(" "),e("label",{class:{primary:"richtext"===t.mode},attrs:{for:"richtext"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Rich text"))+"\n\t\t")])])])}),[],!1,null,"2a4cf7ad",null).exports,O=r(4301),M=r.n(O),j=(r(83566),{name:"MailboxInlinePicker",components:{Treeselect:M()},props:{account:{type:Object,required:!0},disabled:{type:Boolean,default:!1},value:{type:Number,default:void 0}},data:function(){return{selected:this.value}},computed:{mailboxes:function(){return this.getMailboxes()}},watch:{selected:function(t){t!==this.value&&(this.$emit("input",t),this.selected=t)}},methods:{getMailboxes:function(t){var e=this;return(t?this.$store.getters.getSubMailboxes(t):this.$store.getters.getMailboxes(this.account.accountId)).map((function(t){return{id:t.databaseId,label:t.displayName,children:t.mailboxes.length>0?e.getMailboxes(t.databaseId):""}}))}}}),T=r(52861),N={};function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function D(){D=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==B(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Z(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function F(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Z(i,r,o,a,s,"next",t)}function s(t){Z(i,r,o,a,s,"throw",t)}a(void 0)}))}}N.styleTagTransform=k(),N.setAttributes=w(),N.insert=A().bind(null,"head"),N.domAPI=y(),N.insertStyleElement=_(),v()(T.Z,N),T.Z&&T.Z.locals&&T.Z.locals;var U={name:"AccountDefaultsSettings",components:{MailboxInlinePicker:(0,P.Z)(j,(function(){var t=this;return(0,t._self._c)("Treeselect",{ref:"Treeselect",attrs:{options:t.mailboxes,multiple:!1,clearable:!1,disabled:t.disabled},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})}),[],!1,null,null,null).exports},props:{account:{type:Object,required:!0}},data:function(){return{saving:!1}},computed:{draftsMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.draftsMailboxId);if(t)return t.databaseId},set:function(t){var e=this;return F(D().mark((function n(){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d.Z.debug("setting drafts mailbox to "+t),e.saving=!0,n.prev=2,n.next=5,e.$store.dispatch("patchAccount",{account:e.account,data:{draftsMailboxId:t}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),d.Z.error("could not set drafts mailbox",{error:n.t0});case 10:return n.prev=10,e.saving=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})))()}},sentMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.sentMailboxId);if(t)return t.databaseId},set:function(t){var e=this;return F(D().mark((function n(){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d.Z.debug("setting sent mailbox to "+t),e.saving=!0,n.prev=2,n.next=5,e.$store.dispatch("patchAccount",{account:e.account,data:{sentMailboxId:t}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),d.Z.error("could not set sent mailbox",{error:n.t0});case 10:return n.prev=10,e.saving=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})))()}},trashMailbox:{get:function(){var t=this.$store.getters.getMailbox(this.account.trashMailboxId);if(t)return t.databaseId},set:function(t){var e=this;return F(D().mark((function n(){return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d.Z.debug("setting trash mailbox to "+t),e.saving=!0,n.prev=2,n.next=5,e.$store.dispatch("patchAccount",{account:e.account,data:{trashMailboxId:t}});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),d.Z.error("could not set trash mailbox",{error:n.t0});case 10:return n.prev=10,e.saving=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})))()}}}},G=r(3135),R={};R.styleTagTransform=k(),R.setAttributes=w(),R.insert=A().bind(null,"head"),R.domAPI=y(),R.insertStyleElement=_(),v()(G.Z,R),G.Z&&G.Z.locals&&G.Z.locals;var q=(0,P.Z)(U,(function(){var t=this,e=t._self._c;return e("div",[e("p",[t._v("\n\t\t"+t._s(t.t("mail","Drafts are saved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.draftsMailbox,callback:function(e){t.draftsMailbox=e},expression:"draftsMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Sent messages are saved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.sentMailbox,callback:function(e){t.sentMailbox=e},expression:"sentMailbox"}}),t._v(" "),e("p",[t._v("\n\t\t"+t._s(t.t("mail","Deleted messages are moved in:"))+"\n\t")]),t._v(" "),e("MailboxInlinePicker",{attrs:{account:t.account,disabled:t.saving},model:{value:t.trashMailbox,callback:function(e){t.trashMailbox=e},expression:"trashMailbox"}})],1)}),[],!1,null,"d36749b4",null).exports,z=r(34931),H=r(7329),$=r(20144),V=r(58441);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function K(){K=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Y(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Q(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function W(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Q(i,r,o,a,s,"next",t)}function s(t){Q(i,r,o,a,s,"throw",t)}a(void 0)}))}}var J={name:"SignatureSettings",components:{TextEditor:z.Z,Multiselect:o.Z2,ButtonVue:o.P2,IconLoading:o.lb,IconCheck:V.default},props:{account:{type:Object,required:!0}},data:function(){return{loading:!1,bus:new $.ZP,identity:null,signature:"",signatureAboveQuote:this.account.signatureAboveQuote}},computed:{identities:function(){var t=this.account.aliases.map((function(t){return{id:t.id,label:t.name+" ("+t.alias+")",signature:t.signature}}));return t.unshift({id:-1,label:this.account.name+" ("+this.account.emailAddress+")",signature:this.account.signature}),t},isLargeSignature:function(){return new Blob([this.signature]).size>2097152}},watch:{signatureAboveQuote:function(t,e){var n=this;return W(K().mark((function r(){return K().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$store.dispatch("patchAccount",{account:n.account,data:{signatureAboveQuote:t}});case 3:d.Z.debug("signature above quoted updated to "+t),r.next=10;break;case 6:r.prev=6,r.t0=r.catch(0),d.Z.error("could not update signature above quote",{e:r.t0}),n.signatureAboveQuote=e;case 10:case"end":return r.stop()}}),r,null,[[0,6]])})))()}},beforeMount:function(){this.changeIdentity(this.identities[0])},methods:{changeIdentity:function(t){d.Z.debug("select identity",{identity:t}),this.identity=t,this.signature=t.signature?(0,H.vb)((0,H.qY)(t.signature)).value:""},deleteSignature:function(){var t=this;return W(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.signature=null,e.next=3,t.saveSignature();case 3:case"end":return e.stop()}}),e)})))()},saveSignature:function(){var t=this;return W(K().mark((function e(){var n,r;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n="updateAccountSignature",r={account:t.account,signature:t.signature},t.identity.id>-1&&(n="updateAliasSignature",r.aliasId=t.identity.id),e.abrupt("return",t.$store.dispatch(n,r).then((function(){d.Z.info("signature updated"),t.loading=!1})).catch((function(t){throw d.Z.error("could not update account signature",{error:t}),t})));case 5:case"end":return e.stop()}}),e)})))()}}},X=r(12823),tt={};tt.styleTagTransform=k(),tt.setAttributes=w(),tt.insert=A().bind(null,"head"),tt.domAPI=y(),tt.insertStyleElement=_(),v()(X.Z,tt),X.Z&&X.Z.locals&&X.Z.locals;var et=(0,P.Z)(J,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"section"},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.signatureAboveQuote,expression:"signatureAboveQuote"}],staticClass:"checkbox",attrs:{id:"signature-above-quote-toggle",type:"checkbox"},domProps:{checked:Array.isArray(t.signatureAboveQuote)?t._i(t.signatureAboveQuote,null)>-1:t.signatureAboveQuote},on:{change:function(e){var n=t.signatureAboveQuote,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&(t.signatureAboveQuote=n.concat([null])):i>-1&&(t.signatureAboveQuote=n.slice(0,i).concat(n.slice(i+1)))}else t.signatureAboveQuote=o}}}),t._v(" "),e("label",{attrs:{for:"signature-above-quote-toggle"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Place signature above quoted text"))+"\n\t\t")])]),t._v(" "),t.identities.length>1?e("Multiselect",{attrs:{"allow-empty":!1,options:t.identities,searchable:!1,value:t.identity,label:"label","track-by":"id"},on:{select:t.changeIdentity}}):t._e(),t._v(" "),e("TextEditor",{attrs:{html:!0,placeholder:t.t("mail","Signature "),bus:t.bus},model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}}),t._v(" "),t.isLargeSignature?e("p",{staticClass:"warning-large-signature"},[t._v("\n\t\t"+t._s(t.t("mail","Your signature is larger than 2 MB. This may affect the performance of your editor."))+"\n\t")]):t._e(),t._v(" "),e("ButtonVue",{attrs:{type:"primary",disabled:t.loading},on:{click:t.saveSignature},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20,"fill-color":"white"}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.t("mail","Save signature"))+"\n\t")]),t._v(" "),t.signature?e("ButtonVue",{staticClass:"button-text",attrs:{type:"tertiary-no-background"},on:{click:t.deleteSignature}},[t._v("\n\t\t"+t._s(t.t("mail","Delete"))+"\n\t")]):t._e()],1)}),[],!1,null,"65cc259e",null).exports,nt=r(76188),rt=r(73229);function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(){it=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==ot(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function at(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function st(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){at(i,r,o,a,s,"next",t)}function s(t){at(i,r,o,a,s,"throw",t)}a(void 0)}))}}var ct={name:"AliasForm",components:{ButtonVue:o.P2,IconRename:rt.default,IconLoading:o.lb,IconDelete:nt.Z,IconCheck:V.default},props:{account:{type:Object,required:!0},alias:{type:Object,required:!0}},data:function(){return{changeAlias:this.alias.alias,changeName:this.alias.name,showForm:!1,loading:!1}},methods:{updateAlias:function(t){var e=this;return st(it().mark((function t(){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("updateAlias",{account:e.account,aliasId:e.alias.id,alias:e.changeAlias,name:e.changeName});case 3:d.Z.debug("updated alias",{accountId:e.account.id,aliasId:e.alias.id,alias:e.changeAlias,name:e.changeName}),e.showForm=!1,e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},deleteAlias:function(){var t=this;return st(it().mark((function e(){return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.dispatch("deleteAlias",{account:t.account,aliasId:t.alias.id});case 3:d.Z.debug("deleted alias",{accountId:t.account.id,aliasId:t.alias.id,alias:t.alias.alias,name:t.alias.name}),t.showForm=!1,t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}}},lt=r(98049),ut={};ut.styleTagTransform=k(),ut.setAttributes=w(),ut.insert=A().bind(null,"head"),ut.domAPI=y(),ut.insertStyleElement=_(),v()(lt.Z,ut),lt.Z&&lt.Z.locals&&lt.Z.locals;var dt=(0,P.Z)(ct,(function(){var t=this,e=t._self._c;return e("div",[t.showForm?e("form",{staticClass:"alias-form",on:{submit:function(e){return e.preventDefault(),t.updateAlias.apply(null,arguments)}}},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.changeName,expression:"changeName"}],attrs:{type:"text",required:""},domProps:{value:t.changeName},on:{input:function(e){e.target.composing||(t.changeName=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.changeAlias,expression:"changeAlias"}],attrs:{type:"email",disabled:t.alias.provisioned,required:""},domProps:{value:t.changeAlias},on:{input:function(e){e.target.composing||(t.changeAlias=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"button-group"},[e("ButtonVue",{attrs:{type:"tertiary-no-background","native-type":"submit",title:t.t("mail","Update alias")},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}],null,!1,4145190044)})],1)]):e("div",{staticClass:"alias-item"},[e("p",[e("strong",[t._v(t._s(t.alias.name))]),t._v(" <"+t._s(t.alias.alias)+">")]),t._v(" "),e("div",{staticClass:"button-group"},[e("ButtonVue",{attrs:{type:"tertiary-no-background",title:t.t("mail","Show update alias form")},on:{click:function(e){t.showForm=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconRename",{attrs:{size:20}})]},proxy:!0}])}),t._v(" "),t.alias.provisioned?t._e():e("ButtonVue",{attrs:{type:"tertiary-no-background",title:t.t("mail","Delete alias")},on:{click:t.deleteAlias},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconDelete",{attrs:{size:20}})]},proxy:!0}],null,!1,1111346051)})],1)])])}),[],!1,null,"d0a75566",null);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function pt(){pt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==ft(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function ht(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var mt={name:"AliasSettings",components:{AliasForm:dt.exports,ButtonVue:o.P2,IconLoading:o.lb,IconCheck:V.default},props:{account:{type:Object,required:!0}},data:function(){return{newAlias:"",newName:this.account.name,showForm:!1,loading:!1}},computed:{aliases:function(){return this.account.aliases}},methods:{createAlias:function(){var t,e=this;return(t=pt().mark((function t(){return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("createAlias",{account:e.account,alias:e.newAlias,name:e.newName});case 3:d.Z.debug("created alias",{accountId:e.account.id,alias:e.newAlias,name:e.newName}),e.resetCreate(),e.loading=!1;case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ht(i,r,o,a,s,"next",t)}function s(t){ht(i,r,o,a,s,"throw",t)}a(void 0)}))})()},resetCreate:function(){this.newAlias="",this.newName=this.account.name,this.showForm=!1}}},vt=mt,gt=r(38615),yt={};yt.styleTagTransform=k(),yt.setAttributes=w(),yt.insert=A().bind(null,"head"),yt.domAPI=y(),yt.insertStyleElement=_(),v()(gt.Z,yt),gt.Z&&gt.Z.locals&&gt.Z.locals;var bt=(0,P.Z)(vt,(function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"aliases-list"},[t._l(t.aliases,(function(n){return e("li",{key:n.id},[e("AliasForm",{attrs:{account:t.account,alias:n}})],1)})),t._v(" "),t.showForm?e("li",[e("form",{attrs:{id:"createAliasForm"},on:{submit:function(e){return e.preventDefault(),t.createAlias.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],attrs:{type:"text",placeholder:t.t("mail","Name"),required:""},domProps:{value:t.newName},on:{input:function(e){e.target.composing||(t.newName=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newAlias,expression:"newAlias"}],attrs:{type:"email",placeholder:t.t("mail","Email address"),required:""},domProps:{value:t.newAlias},on:{input:function(e){e.target.composing||(t.newAlias=e.target.value)}}})])]):t._e()],2),t._v(" "),t.account.provisioningId?t._e():e("div",[t.showForm?t._e():e("ButtonVue",{attrs:{type:"primary"},on:{click:function(e){t.showForm=!0}}},[t._v("\n\t\t\t"+t._s(t.t("mail","Add alias"))+"\n\t\t")]),t._v(" "),t.showForm?e("ButtonVue",{attrs:{"native-type":"submit",type:"primary",form:"createAliasForm",disabled:t.loading},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}],null,!1,4145190044)},[t._v("\n\t\t\t"+t._s(t.t("mail","Create alias"))+"\n\t\t")]):t._e(),t._v(" "),t.showForm?e("ButtonVue",{staticClass:"button-text",attrs:{type:"tertiary-no-background"},on:{click:t.resetCreate}},[t._v("\n\t\t\t"+t._s(t.t("mail","Cancel"))+"\n\t\t")]):t._e()],1)])}),[],!1,null,"500f6e07",null),At=bt.exports,xt=r(75743),wt=r(76059),Ct=r.n(wt),_t=r(66415),St=r.n(_t),kt=r(82880);function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function Lt(){Lt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Et(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Pt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function It(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Pt(i,r,o,a,s,"next",t)}function s(t){Pt(i,r,o,a,s,"throw",t)}a(void 0)}))}}var Ot=St()(Ct()("email")),Mt={name:"TrustedSenders",components:{ButtonVue:o.P2},data:function(){return{list:[]}},computed:{sortedSenders:function(){return Ot(this.list)}},mounted:function(){var t=this;return It(Lt().mark((function e(){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,xt.G)();case 2:t.list=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{removeSender:function(e){var n=this;return It(Lt().mark((function r(){return Lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.list=n.list.filter((function(t){return t.id!==e.id})),r.prev=1,r.next=4,(0,xt.s)(e.email,e.type,!1);case 4:r.next=11;break;case 6:r.prev=6,r.t0=r.catch(1),d.Z.error("Could not remove trusted sender ".concat(e.email),{error:r.t0}),(0,kt.showError)(t("mail","Could not remove trusted sender {sender}",{sender:e.email})),n.list.push(e);case 11:case"end":return r.stop()}}),r,null,[[1,6]])})))()},senderType:function(e){switch(e){case"individual":return t("mail","individual");case"domain":return t("mail","domain")}return e}}},jt=r(92071),Tt={};Tt.styleTagTransform=k(),Tt.setAttributes=w(),Tt.insert=A().bind(null,"head"),Tt.domAPI=y(),Tt.insertStyleElement=_(),v()(jt.Z,Tt),jt.Z&&jt.Z.locals&&jt.Z.locals;var Nt=(0,P.Z)(Mt,(function(){var t=this,e=t._self._c;return e("div",[t._l(t.sortedSenders,(function(n){return e("div",{key:n.email},[t._v("\n\t\t"+t._s(n.email)+"\n\t\t"+t._s(t.senderType(n.type))+"\n\t\t"),e("ButtonVue",{staticClass:"button",attrs:{type:"tertiary"},on:{click:function(e){return t.removeSender(n)}}},[t._v("\n\t\t\t"+t._s(t.t("mail","Remove"))+"\n\t\t")])],1)})),t._v(" "),t.sortedSenders.length?t._e():e("span",[t._v(" "+t._s(t.t("mail","No senders are trusted at the moment.")))])],2)}),[],!1,null,"7c39a306",null).exports;function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function Dt(){Dt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Bt(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Zt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var Ft={name:"SieveAccountForm",components:{ButtonVue:o.P2},props:{account:{type:Object,required:!0}},data:function(){return{sieveConfig:{sieveEnabled:this.account.sieveEnabled,sieveHost:this.account.sieveHost||this.account.imapHost,sievePort:this.account.sievePort||4190,sieveUser:this.account.sieveUser||"",sievePassword:"",sieveSslMode:this.account.sieveSslMode||"tls"},loading:!1,useImapCredentials:!this.account.sieveUser,errorMessage:""}},methods:{onSubmit:function(){var t,e=this;return(t=Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.errorMessage="",""===e.sieveConfig.sieveUser&&""===e.sieveConfig.sievePassword&&(e.useImapCredentials=!0),e.useImapCredentials&&(e.sieveConfig.sieveUser="",e.sieveConfig.sievePassword=""),t.prev=4,t.next=7,e.$store.dispatch("updateSieveAccount",{account:e.account,data:e.sieveConfig});case 7:if(!e.sieveConfig.sieveEnabled){t.next=10;break}return t.next=10,e.$store.dispatch("fetchActiveSieveScript",{accountId:e.account.id});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),e.errorMessage=t.t0.message;case 15:e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[4,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Zt(i,r,o,a,s,"next",t)}function s(t){Zt(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}},Ut=Ft,Gt=r(38472),Rt={};Rt.styleTagTransform=k(),Rt.setAttributes=w(),Rt.insert=A().bind(null,"head"),Rt.domAPI=y(),Rt.insertStyleElement=_(),v()(Gt.Z,Rt),Gt.Z&&Gt.Z.locals&&Gt.Z.locals;var qt=(0,P.Z)(Ut,(function(){var t=this,e=t._self._c;return e("form",{attrs:{id:"sieve-form"}},[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveEnabled,expression:"sieveConfig.sieveEnabled"}],staticClass:"radio",attrs:{id:"sieve-disabled",type:"radio",name:"sieve-active"},domProps:{value:!1,checked:t._q(t.sieveConfig.sieveEnabled,!1)},on:{change:function(e){return t.$set(t.sieveConfig,"sieveEnabled",!1)}}}),t._v(" "),e("label",{class:{primary:!t.sieveConfig.sieveEnabled},attrs:{for:"sieve-disabled"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Disabled"))+"\n\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveEnabled,expression:"sieveConfig.sieveEnabled"}],staticClass:"radio",attrs:{id:"sieve-enabled",type:"radio",name:"sieve-active"},domProps:{value:!0,checked:t._q(t.sieveConfig.sieveEnabled,!0)},on:{change:function(e){return t.$set(t.sieveConfig,"sieveEnabled",!0)}}}),t._v(" "),e("label",{class:{primary:t.sieveConfig.sieveEnabled},attrs:{for:"sieve-enabled"}},[t._v("\n\t\t\t"+t._s(t.t("mail","Enabled"))+"\n\t\t")])]),t._v(" "),t.sieveConfig.sieveEnabled?[e("label",{attrs:{for:"sieve-host"}},[t._v(t._s(t.t("mail","Sieve Host")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveHost,expression:"sieveConfig.sieveHost"}],attrs:{id:"sieve-host",type:"text",required:""},domProps:{value:t.sieveConfig.sieveHost},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sieveHost",e.target.value)}}}),t._v(" "),e("h4",[t._v(t._s(t.t("mail","Sieve Security")))]),t._v(" "),e("div",{staticClass:"flex-row"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-none",type:"radio",name:"sieve-sec",value:"none"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"none")},on:{change:function(e){return t.$set(t.sieveConfig,"sieveSslMode","none")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"none"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-none"}},[t._v(t._s(t.t("mail","None")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-ssl",type:"radio",name:"sieve-sec",value:"ssl"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"ssl")},on:{change:function(e){return t.$set(t.sieveConfig,"sieveSslMode","ssl")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"ssl"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-ssl"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","SSL/TLS"))+"\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveSslMode,expression:"sieveConfig.sieveSslMode"}],attrs:{id:"sieve-sec-tls",type:"radio",name:"sieve-sec",value:"tls"},domProps:{checked:t._q(t.sieveConfig.sieveSslMode,"tls")},on:{change:function(e){return t.$set(t.sieveConfig,"sieveSslMode","tls")}}}),t._v(" "),e("label",{staticClass:"button",class:{primary:"tls"===t.sieveConfig.sieveSslMode},attrs:{for:"sieve-sec-tls"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","STARTTLS"))+"\n\t\t\t")])]),t._v(" "),e("label",{attrs:{for:"sieve-port"}},[t._v(t._s(t.t("mail","Sieve Port")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sievePort,expression:"sieveConfig.sievePort"}],attrs:{id:"sieve-port",type:"text",required:""},domProps:{value:t.sieveConfig.sievePort},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sievePort",e.target.value)}}}),t._v(" "),e("h4",[t._v(t._s(t.t("mail","Sieve Credentials")))]),t._v(" "),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.useImapCredentials,expression:"useImapCredentials"}],staticClass:"radio",attrs:{id:"sieve-credentials-imap",type:"radio"},domProps:{value:!0,checked:t._q(t.useImapCredentials,!0)},on:{change:function(e){t.useImapCredentials=!0}}}),t._v(" "),e("label",{class:{primary:t.useImapCredentials},attrs:{for:"sieve-credentials-imap"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","IMAP Credentials"))+"\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.useImapCredentials,expression:"useImapCredentials"}],staticClass:"radio",attrs:{id:"sieve-credentials-custom",type:"radio"},domProps:{value:!1,checked:t._q(t.useImapCredentials,!1)},on:{change:function(e){t.useImapCredentials=!1}}}),t._v(" "),e("label",{class:{primary:!t.useImapCredentials},attrs:{for:"sieve-credentials-custom"}},[t._v("\n\t\t\t\t"+t._s(t.t("mail","Custom"))+"\n\t\t\t")])]),t._v(" "),t.useImapCredentials?t._e():[e("label",{attrs:{for:"sieve-user"}},[t._v(t._s(t.t("mail","Sieve User")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sieveUser,expression:"sieveConfig.sieveUser"}],attrs:{id:"sieve-user",type:"text",required:""},domProps:{value:t.sieveConfig.sieveUser},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sieveUser",e.target.value)}}}),t._v(" "),e("label",{attrs:{for:"sieve-password"}},[t._v(t._s(t.t("mail","Sieve Password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sieveConfig.sievePassword,expression:"sieveConfig.sievePassword"}],attrs:{id:"sieve-password",type:"password",required:""},domProps:{value:t.sieveConfig.sievePassword},on:{input:function(e){e.target.composing||t.$set(t.sieveConfig,"sievePassword",e.target.value)}}})]]:t._e(),t._v(" "),t._t("feedback"),t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("ButtonVue",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t._v("\n\t\t"+t._s(t.t("mail","Save sieve settings"))+"\n\t")])],2)}),[],!1,null,"14f1278f",null),zt=qt.exports;function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function $t(){$t=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Ht(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(n),!0).forEach((function(e){Kt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var Wt={name:"SieveFilterForm",components:{ButtonVue:o.P2,IconLoading:o.lb,IconCheck:V.default},props:{account:{type:Object,required:!0}},data:function(){return{script:"",loading:!0,errorMessage:""}},computed:{scriptData:function(){return this.$store.getters.getActiveSieveScript(this.account.id)}},watch:{scriptData:{immediate:!0,handler:function(t){t&&(this.script=t.script,this.loading=!1)}}},methods:{saveActiveScript:function(){var t,e=this;return(t=$t().mark((function t(){return $t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.errorMessage="",t.prev=2,t.next=5,e.$store.dispatch("updateActiveSieveScript",{accountId:e.account.id,scriptData:Yt(Yt({},e.scriptData),{},{script:e.script})});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.errorMessage=t.t0.message;case 10:e.loading=!1;case 11:case"end":return t.stop()}}),t,null,[[2,7]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Qt(i,r,o,a,s,"next",t)}function s(t){Qt(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}},Jt=Wt,Xt=r(1581),te={};te.styleTagTransform=k(),te.setAttributes=w(),te.insert=A().bind(null,"head"),te.domAPI=y(),te.insertStyleElement=_(),v()(Xt.Z,te),Xt.Z&&Xt.Z.locals&&Xt.Z.locals;var ee=(0,P.Z)(Jt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"section"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.script,expression:"script"},{name:"shortkey",rawName:"v-shortkey.avoid",modifiers:{avoid:!0}}],attrs:{id:"sieve-text-area",rows:"20",disabled:t.loading},domProps:{value:t.script},on:{input:function(e){e.target.composing||(t.script=e.target.value)}}}),t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("ButtonVue",{staticClass:"primary",attrs:{disabled:t.loading},on:{click:t.saveActiveScript},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("IconLoading",{attrs:{size:20}}):e("IconCheck",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.t("mail","Save sieve script"))+"\n\t")])],1)}),[],!1,null,"4e4c9298",null).exports;function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ie(t,e){if(e&&("object"===ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ae(t){var e="function"==typeof Map?new Map:void 0;return ae=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return se(t,arguments,ue(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),le(r,t)},ae(t)}function se(t,e,n){return se=ce()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&le(o,n.prototype),o},se.apply(null,arguments)}function ce(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function le(t,e){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},le(t,e)}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ue(t)}var de="### Nextcloud Mail: Vacation Responder ### DON'T EDIT ###",fe="# DATA: ",pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&le(t,e)}(i,t);var e,n,r,o=(e=i,n=ce(),function(){var t,r=ue(e);if(n){var o=ue(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ie(this,t)});function i(){return oe(this,i),o.apply(this,arguments)}return r=i,Object.defineProperty(r,"prototype",{writable:!1}),r}(ae(Error));function he(t){var e,n,r=[],o=0,i=o,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return re(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t.split(/\r?\n/));try{for(a.s();!(n=a.n()).done;){var s=n.value;switch(o){case 0:if(s.startsWith(de)){i=1;break}r.push(s);break;case 1:if(s.startsWith(de))i=0;else if(s.startsWith(fe)){var c=s.slice(fe.length);(e=JSON.parse(c)).start&&(e.start=new Date(e.start)),e.end&&(e.end=new Date(e.end))}break;default:throw new pe("Reached an invalid state")}o=i}}catch(t){a.e(t)}finally{a.f()}return{sieveScript:r.join("\n"),data:e}}function me(t,e){var n,r=e.enabled,o=e.start,i=e.end,a=e.subject,s=e.message,c=e.allowedRecipients,l={version:1,enabled:r,start:o?ve(o):void 0,end:i?ve(i):void 0,subject:a,message:s};if(!r)return delete l.start,delete l.end,[t,de,fe+JSON.stringify(l),de].join("\n");n=i?'allof(currentdate :value "ge" "date" "'.concat(ve(o),'", currentdate :value "le" "date" "').concat(ve(i),'")'):'currentdate :value "ge" "date" "'.concat(ve(o),'"');var u=["vacation",":days 4",':subject "'.concat(ge(a),'"')];if(null!=c&&c.length){var d=c.map((function(t){return'"'.concat(t,'"')})).join(", ");u.push(":addresses [".concat(d,"]"))}return u.push('"'.concat(ge(s),'"')),[[de,'require "date";','require "relational";','require "vacation";',de].join("\n"),t,[de,fe+JSON.stringify(l),"if ".concat(n," {"),"\t".concat(u.join(" "),";"),"}",de].join("\n")].join("\n")}function ve(t){var e=t.getFullYear().toString().padStart(4,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)}function ge(t){return t.replaceAll(/\\/g,"\\\\").replaceAll(/"/g,'\\"')}function ye(t){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(t)}function be(){be=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==ye(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(n),!0).forEach((function(e){we(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ce(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function _e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Se={name:"OutOfOfficeForm",components:{DatetimePicker:o.P4,TextEditor:z.Z,Button:o.P2,CheckIcon:V.default},props:{account:{type:Object,required:!0}},data:function(){return{enabled:!1,enableLastDay:!1,firstDay:new Date,lastDay:null,subject:"",message:"",loading:!1,errorMessage:""}},computed:{valid:function(){return!!(this.firstDay&&(!this.enableLastDay||this.enableLastDay&&this.lastDay)&&(!this.enableLastDay||this.lastDay>=this.firstDay)&&this.subject&&this.message)},sieveScriptData:function(){return this.$store.getters.getActiveSieveScript(this.account.id)},parsedState:function(){var t;if(null!==(t=this.sieveScriptData)&&void 0!==t&&t.script)try{return he(this.sieveScriptData.script).data}catch(t){d.Z.warn("Failed to parse OOO state",{error:t})}},aliases:function(){return[{name:this.account.name,alias:this.account.emailAddress}].concat((t=this.account.aliases,function(t){if(Array.isArray(t))return _e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return _e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map((function(t){var e=t.name,n=t.alias;return"".concat(e," <").concat(n,">")}));var t}},watch:{parsedState:{immediate:!0,handler:function(t){var e,n,r,o,i,a;null!==(e=t)&&void 0!==e||(t={}),this.enabled=null!==(n=!!t.enabled)&&void 0!==n&&n,this.firstDay=null!==(r=t.start)&&void 0!==r?r:new Date,this.lastDay=null!==(o=t.end)&&void 0!==o?o:null,this.enableLastDay=!!this.lastDay,this.subject=null!==(i=t.subject)&&void 0!==i?i:"",this.message=(0,H.vb)((0,H.Oh)(null!==(a=t.message)&&void 0!==a?a:"")).value}},enableLastDay:function(t){t?(this.lastDay=new Date(this.firstDay),this.lastDay.setDate(this.lastDay.getDate()+6)):this.lastDay=null},firstDay:function(t,e){if(this.enableLastDay){var n=Math.floor((this.lastDay-e)/864e5);n<0||(this.lastDay=new Date(t),this.lastDay.setDate(t.getDate()+n))}}},methods:{submit:function(){var t,e=this;return(t=be().mark((function t(){var n,r,o;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.errorMessage="",n=he(e.sieveScriptData.script),r=n.sieveScript,o=me(r,{enabled:e.enabled,start:e.firstDay,end:e.lastDay,subject:e.subject,message:(0,H.UK)((0,H.dy)(e.message)).value,allowedRecipients:e.aliases}),t.prev=5,t.next=8,e.$store.dispatch("updateActiveSieveScript",{accountId:e.account.id,scriptData:xe(xe({},e.sieveScriptData),{},{script:o})});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),e.errorMessage=t.t0.message;case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[5,10,13,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ce(i,r,o,a,s,"next",t)}function s(t){Ce(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}},ke=Se,Ee=r(24224),Le={};Le.styleTagTransform=k(),Le.setAttributes=w(),Le.insert=A().bind(null,"head"),Le.domAPI=y(),Le.insertStyleElement=_(),v()(Ee.Z,Le),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;var Pe=(0,P.Z)(ke,(function(){var t=this,e=t._self._c;return t.sieveScriptData?e("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("div",{staticClass:"form__multi-row"},[e("fieldset",{staticClass:"form__fieldset"},[e("input",{staticClass:"radio",attrs:{id:"ooo-disabled",type:"radio",name:"enabled"},domProps:{checked:!t.enabled},on:{change:function(e){t.enabled=!1}}}),t._v(" "),e("label",{attrs:{for:"ooo-disabled"}},[t._v(t._s(t.t("mail","Autoresponder off")))])]),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("input",{staticClass:"radio",attrs:{id:"ooo-enabled",type:"radio",name:"enabled"},domProps:{checked:t.enabled},on:{change:function(e){t.enabled=!0}}}),t._v(" "),e("label",{attrs:{for:"ooo-enabled"}},[t._v(t._s(t.t("mail","Autoresponder on")))])])]),t._v(" "),e("div",{staticClass:"form__multi-row"},[e("fieldset",{staticClass:"form__fieldset"},[e("label",{attrs:{for:"ooo-first-day"}},[t._v(t._s(t.t("mail","First day")))]),t._v(" "),e("DatetimePicker",{attrs:{id:"ooo-first-day",disabled:!t.enabled},model:{value:t.firstDay,callback:function(e){t.firstDay=e},expression:"firstDay"}})],1),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("div",{staticClass:"form__fieldset__label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.enableLastDay,expression:"enableLastDay"}],attrs:{id:"ooo-enable-last-day",type:"checkbox",disabled:!t.enabled},domProps:{checked:Array.isArray(t.enableLastDay)?t._i(t.enableLastDay,null)>-1:t.enableLastDay},on:{change:function(e){var n=t.enableLastDay,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&(t.enableLastDay=n.concat([null])):i>-1&&(t.enableLastDay=n.slice(0,i).concat(n.slice(i+1)))}else t.enableLastDay=o}}}),t._v(" "),e("label",{attrs:{for:"ooo-enable-last-day"}},[t._v("\n\t\t\t\t\t"+t._s(t.t("mail","Last day (optional)"))+"\n\t\t\t\t")])]),t._v(" "),e("DatetimePicker",{attrs:{id:"ooo-last-day",disabled:!t.enabled||!t.enableLastDay},model:{value:t.lastDay,callback:function(e){t.lastDay=e},expression:"lastDay"}})],1)]),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("label",{attrs:{for:"ooo-subject"}},[t._v(t._s(t.t("mail","Subject")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.subject,expression:"subject"}],attrs:{id:"ooo-subject",type:"text",disabled:!t.enabled},domProps:{value:t.subject},on:{input:function(e){e.target.composing||(t.subject=e.target.value)}}})]),t._v(" "),e("fieldset",{staticClass:"form__fieldset"},[e("label",{attrs:{for:"ooo-message"}},[t._v(t._s(t.t("mail","Message")))]),t._v(" "),e("TextEditor",{attrs:{id:"ooo-message",html:!1,disabled:!t.enabled,bus:{$on:function(){}}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),t._v(" "),t.errorMessage?e("p",[t._v("\n\t\t"+t._s(t.t("mail","Oh Snap!"))+"\n\t\t"+t._s(t.errorMessage)+"\n\t")]):t._e(),t._v(" "),e("Button",{attrs:{type:"primary","native-type":"submit",disabled:t.loading||!t.valid},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CheckIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,2630571749)},[t._v("\n\t\t"+t._s(t.t("mail","Save autoresponder"))+"\n\t")])],1):t._e()}),[],!1,null,"0c0f23a0",null),Ie=Pe.exports;function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function Me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(n),!0).forEach((function(e){Te(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ne(){Ne=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Oe(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Be(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function De(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Be(i,r,o,a,s,"next",t)}function s(t){Be(i,r,o,a,s,"throw",t)}a(void 0)}))}}var Ze={name:"AccountSettings",components:{SieveAccountForm:zt,SieveFilterForm:ee,TrustedSenders:Nt,AccountForm:p.Z,AliasSettings:At,EditorSettings:I,SignatureSettings:et,AppSettingsDialog:o.MX,AppSettingsSection:o.V$,AccountDefaultsSettings:q,OutOfOfficeForm:Ie},props:{account:{required:!0,type:Object},open:{required:!0,type:Boolean}},data:function(){return{showSettings:!1}},computed:{menu:function(){return this.buildMenu()},displayName:function(){return this.account.name},email:function(){return this.account.emailAddress}},watch:{showSettings:function(t){t||this.$emit("update:open",t)},open:function(t){var e=this;return De(Ne().mark((function n(){return Ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=3;break}return n.next=3,e.onOpen();case 3:case"end":return n.stop()}}),n)})))()}},methods:{onAccountUpdated:function(t){return d.Z.log("saving data",{data:t}),this.$store.dispatch("updateAccount",je(je({},t),{},{accountId:this.account.id})).then((function(t){return t})).catch((function(t){throw d.Z.error("account update failed:",{error:t}),t}))},handleClick:function(){this.$refs.accountForm.$el.scrollIntoView({behavior:"smooth"})},onOpen:function(){var t=this;return De(Ne().mark((function e(){return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.showSettings=!0,e.next=3,t.$store.dispatch("fetchActiveSieveScript",{accountId:t.account.id});case 3:case"end":return e.stop()}}),e)})))()}}},Fe=r(73299),Ue={};Ue.styleTagTransform=k(),Ue.setAttributes=w(),Ue.insert=A().bind(null,"head"),Ue.domAPI=y(),Ue.insertStyleElement=_(),v()(Fe.Z,Ue),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;var Ge=(0,P.Z)(Ze,(function(){var t=this,e=t._self._c;return e("AppSettingsDialog",{attrs:{id:"app-settings-dialog",open:t.showSettings,"show-navigation":!0},on:{"update:open":function(e){t.showSettings=e}}},[e("AppSettingsSection",{attrs:{id:"account-settings",title:t.t("mail","Account settings")}},[e("div",{staticClass:"alias-item"},[e("p",[e("strong",[t._v(t._s(t.displayName))]),t._v(" <"+t._s(t.email)+">")]),t._v(" "),t.account.provisioningId?t._e():e("a",{staticClass:"button icon-rename",attrs:{title:t.t("mail","Change name")},on:{click:t.handleClick}})]),t._v(" "),e("AliasSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"signature",title:t.t("mail","Signature")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","A signature is added to the text of new messages and replies."))+"\n\t\t")]),t._v(" "),e("SignatureSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"writing-mode",title:t.t("mail","Writing mode")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","Preferred writing mode for new messages and replies."))+"\n\t\t")]),t._v(" "),e("EditorSettings",{attrs:{account:t.account}})],1),t._v(" "),e("AppSettingsSection",{attrs:{id:"default-folders",title:t.t("mail","Default folders")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","The folders to use for drafts, sent messages and deleted messages."))+"\n\t\t")]),t._v(" "),e("AccountDefaultsSettings",{attrs:{account:t.account}})],1),t._v(" "),t.account?e("AppSettingsSection",{attrs:{id:"out-of-office-replies",title:t.t("mail","Autoresponder")}},[e("p",{staticClass:"settings-hint"},[t._v("\n\t\t\t"+t._s(t.t("mail","Automated reply to incoming messages. If someone sends you several messages, this automated reply will be sent at most once every 4 days."))+"\n\t\t")]),t._v(" "),t.account.sieveEnabled?e("OutOfOfficeForm",{attrs:{account:t.account}}):e("p",[t._v("\n\t\t\t"+t._s(t.t("mail","Please connect to a sieve server first."))+"\n\t\t")])],1):t._e(),t._v(" "),t.account&&t.account.sieveEnabled?e("AppSettingsSection",{attrs:{id:"sieve-filter",title:t.t("mail","Sieve filter rules")}},[e("div",{attrs:{id:"sieve-filter"}},[e("SieveFilterForm",{key:t.account.accountId,ref:"sieveFilterForm",attrs:{account:t.account}})],1)]):t._e(),t._v(" "),e("AppSettingsSection",{attrs:{id:"trusted-sender",title:t.t("mail","Trusted senders")}},[e("TrustedSenders")],1),t._v(" "),t.account&&!t.account.provisioningId?e("AppSettingsSection",{attrs:{id:"mail-server",title:t.t("mail","Mail server")}},[e("div",{attrs:{id:"mail-settings"}},[e("AccountForm",{key:t.account.accountId,ref:"accountForm",attrs:{"display-name":t.displayName,email:t.email,account:t.account},on:{"account-updated":t.onAccountUpdated}})],1)]):t._e(),t._v(" "),t.account&&!t.account.provisioningId?e("AppSettingsSection",{attrs:{id:"sieve-settings",title:t.t("mail","Sieve filter server")}},[e("div",{attrs:{id:"sieve-settings"}},[e("SieveAccountForm",{key:t.account.accountId,ref:"sieveAccountForm",attrs:{account:t.account}})],1)]):t._e()],1)}),[],!1,null,"0fd1f292",null).exports,Re=r(37838),qe=r(46703),ze=r(34829),He=r(41622),$e=r(50009),Ve=r(82124),Ye=r(40743);function Ke(t){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ke(t)}function Qe(){Qe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Ke(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function We(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var Je={name:"NavigationAccount",components:{AppNavigationItem:o.tn,ActionButton:o.Js,ActionCheckbox:o.Bt,ActionInput:o.Iw,ActionText:o.L1,AccountSettings:Ge,IconInfo:Re.Z,IconSettings:qe.default,IconFolderAdd:ze.default,MenuDown:He.default,MenuUp:$e.Z,IconDelete:nt.Z,IconError:Ve.Z,IconBullet:Ye.Z,IconLoading:o.lb},props:{account:{type:Object,required:!0},firstMailbox:{type:Object,default:function(){}},isFirst:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1}},data:function(){return{menuOpen:!1,loading:{delete:!1},savingShowOnlySubscribed:!1,quota:void 0,editing:!1,showSaving:!1,showSettings:!1}},computed:{visible:function(){return!0!==this.account.isUnified&&!1!==this.account.visible},firstMailboxRoute:function(){return this.firstMailbox?{name:"mailbox",params:{mailboxId:this.firstMailbox.databaseId}}:""},id:function(){return"account-"+this.account.id},bulletColor:function(){return this.account.error?void 0:(t=this.account.emailAddress,e=c()(t),n=u().hex.hsl(e),r=[40*Math.round(n[0]/40),n[1],n[2]],"#"+u().hsl.hex(r));var t,e,n,r},iconError:function(){return this.account.error},quotaText:function(){return void 0===this.quota?t("mail","Loading "):!1===this.quota?t("mail","Not supported by the server"):t("mail","{usage} of {limit} used",{usage:(0,i.s)(this.quota.usage),limit:(0,i.s)(this.quota.limit)})}},methods:{createMailbox:function(t){this.editing=!0;var e=t.target.elements[1].value;d.Z.info("creating mailbox "+e),this.menuOpen=!1,this.$store.dispatch("createMailbox",{account:this.account,name:e}).then((function(){return d.Z.info("mailbox ".concat(e," created"))})).catch((function(t){throw d.Z.error("could not create mailbox",{error:t}),t})),this.editing=!1,this.showSaving=!1},openCreateMailbox:function(){this.editing=!0,this.showSaving=!1},removeAccount:function(){var e=this,n=this.account.id;d.Z.info("delete account",{account:this.account});var r=t("mail","The account for {email} and cached email data will be removed from Nextcloud, but not from your email provider.",{email:this.account.emailAddress});OC.dialogs.confirmDestructive(r,t("mail","Remove account {email}",{email:this.account.emailAddress}),{type:OC.dialogs.YES_NO_BUTTONS,confirm:t("mail","Remove {email}",{email:this.account.emailAddress}),confirmClasses:"error",cancel:t("mail","Cancel")},(function(t){if(t)return e.$store.dispatch("deleteAccount",e.account).then((function(){e.loading.delete=!0})).then((function(){d.Z.info("account ".concat(n," deleted, redirecting ")),location.href=(0,a.generateUrl)("/apps/mail")})).catch((function(t){return d.Z.error("could not delete account",{error:t})}));e.loading.delete=!1}))},changeAccountOrderUp:function(){this.$store.dispatch("moveAccount",{account:this.account,up:!0}).catch((function(t){return d.Z.error("could not move account up",{error:t})}))},changeAccountOrderDown:function(){this.$store.dispatch("moveAccount",{account:this.account}).catch((function(t){return d.Z.error("could not move account down",{error:t})}))},changeShowSubscribedOnly:function(t){var e=this;this.savingShowOnlySubscribed=!0,this.$store.dispatch("patchAccount",{account:this.account,data:{showSubscribedOnly:t}}).then((function(){e.savingShowOnlySubscribed=!1,d.Z.info("show only subscribed mailboxes updated to "+t)})).catch((function(t){throw d.Z.error("could not update subscription mode",{error:t}),e.savingShowOnlySubscribed=!1,t}))},onMenuToggle:function(t){t&&(console.debug("accounts menu opened, fetching quota"),this.fetchQuota())},fetchQuota:function(){var t,e=this;return(t=Qe().mark((function t(){var n;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.q9)(e.account.id);case 2:n=t.sent,console.debug("quota fetched",{quota:n}),e.quota=void 0!==n&&n;case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){We(i,r,o,a,s,"next",t)}function s(t){We(i,r,o,a,s,"throw",t)}a(void 0)}))})()},toggleAccountSettings:function(){this.displayAccountSettings=!this.displayAccountSettings},showAccountSettings:function(){this.showSettings=!0}}},Xe=Je,tn=(0,P.Z)(Xe,(function(){var t=this,e=t._self._c;return t.visible?e("AppNavigationItem",{key:t.id,attrs:{id:t.id,"menu-open":t.menuOpen,title:t.account.emailAddress,to:t.firstMailboxRoute,exact:!0},on:{"update:menuOpen":[function(e){t.menuOpen=e},t.onMenuToggle],"update:menu-open":function(e){t.menuOpen=e}},scopedSlots:t._u([{key:"icon",fn:function(){return[t.account.error?e("IconError",{attrs:{size:20}}):t._e(),t._v(" "),t.bulletColor?e("IconBullet",{attrs:{size:16,"fill-color":t.bulletColor}}):t._e()]},proxy:!0},{key:"actions",fn:function(){return[t.account.isUnified?t._e():e("ActionText",{attrs:{title:t.t("mail","Quota")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconInfo",{attrs:{size:20}})]},proxy:!0}],null,!1,3812223437)},[t._v("\n\t\t\t"+t._s(t.quotaText)+"\n\t\t")]),t._v(" "),e("ActionButton",{attrs:{"close-after-click":!0},on:{click:t.showAccountSettings,shortkey:t.toggleAccountSettings},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconSettings",{attrs:{size:20}})]},proxy:!0}],null,!1,408832678)},[t._v("\n\t\t\t"+t._s(t.t("mail","Account settings"))+"\n\t\t")]),t._v(" "),e("ActionCheckbox",{attrs:{checked:t.account.showSubscribedOnly,disabled:t.savingShowOnlySubscribed},on:{"update:checked":t.changeShowSubscribedOnly}},[t._v("\n\t\t\t"+t._s(t.t("mail","Show only subscribed mailboxes"))+"\n\t\t")]),t._v(" "),t.editing?t._e():e("ActionButton",{on:{click:t.openCreateMailbox},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderAdd",{attrs:{size:20}})]},proxy:!0}],null,!1,2169509812)},[t._v("\n\t\t\t"+t._s(t.t("mail","Add mailbox"))+"\n\t\t")]),t._v(" "),t.editing?e("ActionInput",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.createMailbox.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderAdd",{attrs:{size:20}})]},proxy:!0}],null,!1,2169509812)}):t._e(),t._v(" "),t.showSaving?e("ActionText",{scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconLoading",{attrs:{size:20}})]},proxy:!0}],null,!1,3081367109)},[t._v("\n\t\t\t"+t._s(t.t("mail","Saving"))+"\n\t\t")]):t._e(),t._v(" "),t.isFirst?t._e():e("ActionButton",{on:{click:t.changeAccountOrderUp},scopedSlots:t._u([{key:"icon",fn:function(){return[e("MenuUp",{attrs:{size:20}})]},proxy:!0}],null,!1,859424094)},[t._v("\n\t\t\t"+t._s(t.t("mail","Move up"))+"\n\t\t")]),t._v(" "),t.isLast?t._e():e("ActionButton",{on:{click:t.changeAccountOrderDown},scopedSlots:t._u([{key:"icon",fn:function(){return[e("MenuDown",{attrs:{size:20}})]},proxy:!0}],null,!1,3657048169)},[t._v("\n\t\t\t"+t._s(t.t("mail","Move down"))+"\n\t\t")]),t._v(" "),t.account.provisioningId?t._e():e("ActionButton",{on:{click:t.removeAccount},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconDelete",{attrs:{size:20}})]},proxy:!0}],null,!1,881161434)},[t._v("\n\t\t\t"+t._s(t.t("mail","Remove account"))+"\n\t\t")])]},proxy:!0},{key:"extra",fn:function(){return[e("AccountSettings",{attrs:{open:t.showSettings,account:t.account},on:{"update:open":function(e){t.showSettings=e}}})]},proxy:!0}],null,!1,2616494593)}):t._e()}),[],!1,null,null,null),en=tn.exports;function nn(t){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(t)}function rn(){rn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==nn(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function on(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var an={name:"NavigationAccountExpandCollapse",components:{AppNavigationItem:o.tn},props:{account:{type:Object,required:!0}},computed:{id:function(){return"collapse-"+this.account.id},title:function(){return this.account.collapsed&&this.account.showSubscribedOnly?t("mail","Show all subscribed mailboxes"):this.account.collapsed&&!this.account.showSubscribedOnly?t("mail","Show all mailboxes"):t("mail","Collapse mailboxes")}},methods:{toggleCollapse:function(){var t,e=this;return(t=rn().mark((function t(){return rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.Z.debug("toggling collapsed mailboxes for account "+e.account.id),t.prev=1,t.next=4,e.$store.commit("toggleAccountCollapsed",e.account.id);case 4:return t.next=6,e.$store.dispatch("setAccountSetting",{accountId:e.account.id,key:"collapsed",value:e.account.collapsed});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),d.Z.error("could not update account settings",{error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){on(i,r,o,a,s,"next",t)}function s(t){on(i,r,o,a,s,"throw",t)}a(void 0)}))})()}}},sn=an,cn=r(22452),ln={};ln.styleTagTransform=k(),ln.setAttributes=w(),ln.insert=A().bind(null,"head"),ln.domAPI=y(),ln.insertStyleElement=_(),v()(cn.Z,ln),cn.Z&&cn.Z.locals&&cn.Z.locals;var un=(0,P.Z)(sn,(function(){var t=this;return(0,t._self._c)("AppNavigationItem",{attrs:{title:t.title},on:{click:t.toggleCollapse}})}),[],!1,null,"13afa457",null).exports,dn=r(44588),fn=r(71598),pn=r(77022),hn=r(4777),mn=r(37328),vn=r(16632),gn=r(18574),yn=r(15764),bn=r(62576),An=r(12525),xn=r(82659),wn=r(7844);function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function _n(){_n=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Cn(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Sn(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var kn={name:"MoveMailboxModal",components:{MailboxPicker:r(16023).Z},props:{account:{type:Object,required:!0},mailbox:{type:Object,required:!0}},data:function(){return{moving:!1,destMailboxId:void 0}},methods:{onClose:function(){this.$emit("close")},onMove:function(){var t,e=this;return(t=_n().mark((function t(){var n,r,o;return _n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.moving=!0,e.mailbox.id===e.destMailboxId){t.next=22;break}if(t.prev=2,e.destMailboxId){t.next=9;break}return n=e.mailbox.displayName,t.next=7,e.$store.dispatch("renameMailbox",{account:e.account,mailbox:e.mailbox,newName:n});case 7:t.next=13;break;case 9:return r=e.$store.getters.getMailbox(e.destMailboxId),o=r.name+e.mailbox.delimiter+e.mailbox.name,t.next=13,e.$store.dispatch("renameMailbox",{account:e.account,mailbox:e.mailbox,newName:o});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),d.Z.error("could not move mailbox",{error:t.t0});case 18:return t.prev=18,e.moving=!1,e.$emit("close"),t.finish(18);case 22:case"end":return t.stop()}}),t,null,[[2,15,18,22]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Sn(i,r,o,a,s,"next",t)}function s(t){Sn(i,r,o,a,s,"throw",t)}a(void 0)}))})()},genId:function(t){return"mailbox-"+t.databaseId}}},En=kn,Ln=(0,P.Z)(En,(function(){var t=this;return(0,t._self._c)("MailboxPicker",{attrs:{account:t.account,selected:t.destMailboxId,loading:t.moving,"picked-mailbox":t.mailbox,"allow-root":!0,"label-select":t.t("mail","Move"),"label-select-loading":t.t("mail","Moving")},on:{"update:selected":function(e){t.destMailboxId=e},select:t.onMove,close:t.onClose}})}),[],!1,null,null,null).exports,Pn=r(98238),In=r(64648),On=r(4956),Mn=r(9944),jn=r(72488),Tn=r(26898),Nn=r(90162);function Bn(t){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(t)}function Dn(){Dn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Bn(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Zn(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Fn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Zn(i,r,o,a,s,"next",t)}function s(t){Zn(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Gn,Rn=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.options=r,this.registerListeners.bind(this)(e),this.setInitialAttributes()}var e,n,r,o;return e=t,n=[{key:"setInitialAttributes",value:function(){this.draggableInfo={},this.setStatus("enabled")}},{key:"update",value:function(t,e){this.setInitialAttributes(),this.options=e.options}},{key:"registerListeners",value:function(t){Nn.Z.$on("drag-start",this.onDragStart.bind(this)),Nn.Z.$on("drag-end",this.onDragEnd.bind(this)),t.firstChild.addEventListener("dragover",this.onDragOver.bind(this)),t.firstChild.addEventListener("dragleave",this.onDragLeave.bind(this)),t.firstChild.addEventListener("drop",this.onDrop.bind(this))}},{key:"removeListeners",value:function(t){Nn.Z.$off("drag-start",this.onDragStart),Nn.Z.$off("drag-end",this.onDragEnd),t.firstChild.removeEventListener("dragover",this.onDragOver),t.firstChild.removeEventListener("dragleave",this.onDragLeave),t.firstChild.removeEventListener("drop",this.onDrop)}},{key:"setStatus",value:function(t){this.el.setAttribute("droppable-mailbox",t)}},{key:"onDragStart",value:function(t){this.draggableInfo=t,this.canBeDropped()||this.setStatus("disabled")}},{key:"canBeDropped",value:function(){return this.isSameAccount()&&this.options.isValidDropTarget}},{key:"isSameAccount",value:function(){return this.draggableInfo.accountId===this.options.accountId}},{key:"onDragEnd",value:function(){this.setInitialAttributes()}},{key:"onDragOver",value:function(t){t.preventDefault(),this.draggableInfo.mailboxId!==this.options.mailboxId&&(this.options.isValidDropTarget&&this.setStatus("dragover"),t.dataTransfer.dropEffect="move")}},{key:"onDragLeave",value:function(t){t.preventDefault(),this.setStatus("enabled")}},{key:"onDrop",value:(o=Fn(Dn().mark((function t(e){var n,r,o=this;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),this.draggableInfo.mailboxId!==this.options.mailboxId){t.next=3;break}return t.abrupt("return");case 3:return this.setInitialAttributes(),n=JSON.parse(e.dataTransfer.getData("text")),Nn.Z.$emit("envelopes-dropped",{envelopes:n}),t.prev=6,r=n.map(function(){var t=Fn(Dn().mark((function t(e){var n;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.processDroppedItem(parseInt(e.envelopeId));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=10,Promise.all(r);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),d.Z.error("could not process dropped messages",t.t0);case 15:return t.prev=15,Nn.Z.$emit("envelopes-moved",{mailboxId:this.options.mailboxId,movedEnvelopes:n}),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[6,12,15,18]])}))),function(t){return o.apply(this,arguments)})},{key:"processDroppedItem",value:(r=Fn(Dn().mark((function t(e){var n;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=document.querySelector('[data-envelope-id="'.concat(e,'"]'))).setAttribute("draggable-envelope","pending"),t.prev=2,t.next=5,Tn.Z.dispatch("moveMessage",{id:e,destMailboxId:this.options.mailboxId});case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),n.removeAttribute("draggable-envelope"),d.Z.error("could not move messages",t.t0);case 11:case"end":return t.stop()}}),t,this,[[2,7]])}))),function(t){return r.apply(this,arguments)})}],n&&Un(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),qn={bind:function(t,e,n){Gn=new Rn(t,n.context,e.value)},componentUpdated:function(t,e){Gn.options=e.value,Gn.update(t,Gn)}};function zn(t){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zn(t)}function Hn(){Hn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==zn(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function $n(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Vn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){$n(i,r,o,a,s,"next",t)}function s(t){$n(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Yn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yn(Object(n),!0).forEach((function(e){Qn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wn={name:"NavigationMailbox",components:{AppNavigationItem:o.tn,CounterBubble:o.JN,ActionText:o.L1,ActionButton:o.Js,ActionCheckbox:o.Bt,ActionInput:o.Iw,IconSend:wn.Z,IconDelete:nt.Z,IconEmailCheck:dn.Z,IconExternal:fn.Z,IconFolderAdd:pn.Z,IconFolderRename:mn.Z,IconFolderSync:vn.Z,IconInfo:Re.Z,IconAllInboxes:bn.Z,IconFavorite:hn.default,IconFolder:ze.default,IconDraft:rt.default,IconArchive:gn.Z,IconInbox:yn.Z,EraserVariant:An.Z,ImportantIcon:xn.Z,IconLoading:o.lb,MoveMailboxModal:Ln},directives:{droppableMailbox:qn},props:{account:{type:Object,required:!0},mailbox:{type:Object,required:!0},filter:{type:String,default:"",required:!1}},data:function(){var t,e;return{debug:(null===(t=window)||void 0===t||null===(e=t.OC)||void 0===e?void 0:e.debug)||!1,mailboxStats:void 0,loadingMarkAsRead:!1,clearingCache:!1,showSaving:!1,changeSubscription:!1,changingSyncInBackground:!1,editing:!1,showSubMailboxes:!1,menuOpen:!1,renameLabel:!0,renameInput:!1,mailboxName:this.mailbox.displayName,showMoveModal:!1,hasDelimiter:!!this.mailbox.delimiter,UNIFIED_INBOX_ID:Pn.e0}},computed:{visible:function(){return(!1===this.account.showSubscribedOnly||this.mailbox.attributes&&this.mailbox.attributes.includes("\\subscribed"))&&this.isUnifiedButOnlyInbox},notInbox:function(){return"inbox"!==this.mailbox.name.toLowerCase()},notVirtual:function(){return!this.account.isUnified&&"flagged"!==this.mailbox.specialRole&&!this.filter},title:function(){return"starred"===this.filter?(0,jn.I)(Kn(Kn({},this.mailbox),{},{specialUse:["flagged"]})):(0,jn.I)(this.mailbox)},to:function(){return{name:"mailbox",params:{mailboxId:this.mailbox.databaseId,filter:this.filter?this.filter:void 0}}},hasSubMailboxes:function(){return this.subMailboxes.length>0},subMailboxes:function(){return this.$store.getters.getSubMailboxes(this.mailbox.databaseId)},statsText:function(){return this.mailboxStats&&"total"in this.mailboxStats&&"unread"in this.mailboxStats?0===this.mailboxStats.unread?(0,Mn.translatePlural)("mail","{total} message","{total} messages",this.mailboxStats.total,{total:this.mailboxStats.total}):(0,Mn.translatePlural)("mail","{unread} unread of {total}","{unread} unread of {total}",this.mailboxStats.unread,{total:this.mailboxStats.total,unread:this.mailboxStats.unread}):t("mail","Loading ")},isSubscribed:function(){return this.mailbox.attributes&&this.mailbox.attributes.includes("\\subscribed")},isDroppableSpecialMailbox:function(){return"starred"!==this.filter&&![this.account.draftsMailboxId,this.account.sentMailboxId].includes(this.mailbox.databaseId)},isActive:function(){return this.$route.params.mailboxId===this.mailbox.databaseId},isValidDropTarget:function(){return!this.isActive&&(this.isDroppableSpecialMailbox||!this.mailbox.specialRole&&!this.account.isUnified)},isUnifiedButOnlyInbox:function(){return!this.mailbox.isUnified||this.mailbox.specialUse.includes("inbox")&&this.$store.getters.accounts.length>2},showUnreadCounter:function(){return"starred"!==this.filter&&"trash"!==this.mailbox.specialRole&&(this.mailbox.unread>0||this.subCounter>0)},subCounter:function(){return this.subMailboxes.reduce((function(t,e){return t+e.unread}),0)}},mounted:function(){Nn.Z.$on("drag-start",this.onDragStart),Nn.Z.$on("drag-end",this.onDragEnd),Nn.Z.$on("envelopes-moved",this.onEnvelopesMoved)},beforeDestroy:function(){Nn.Z.$off("drag-start",this.onDragStart),Nn.Z.$off("drag-end",this.onDragEnd),Nn.Z.$off("envelopes-moved",this.onEnvelopesMoved)},methods:{genId:function(t){return"mailbox-"+t.databaseId},onMenuToggle:function(t){t&&this.fetchMailboxStats()},fetchMailboxStats:function(){var t=this;return Vn(Hn().mark((function e(){var n;return Hn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mailboxStats=null,!t.account.isUnified&&"flagged"!==t.mailbox.specialRole){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,On.Y2)(t.mailbox.databaseId);case 6:n=e.sent,d.Z.debug("loaded mailbox stats for ".concat(t.mailbox.databaseId),{stats:n}),t.mailboxStats=n,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t.mailboxStats={error:!0},d.Z.error("could not load mailbox stats for ".concat(t.mailbox.databaseId),e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))()},createMailbox:function(t){var e=this;return Vn(Hn().mark((function n(){var r,o;return Hn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.editing=!0,r=t.target.elements[1].value,o=e.mailbox.name+e.mailbox.delimiter+r,d.Z.info("creating mailbox ".concat(o," as submailbox of ").concat(e.mailbox.databaseId)),e.menuOpen=!1,n.prev=5,n.next=8,e.$store.dispatch("createMailbox",{account:e.account,name:o});case 8:n.next=14;break;case 10:throw n.prev=10,n.t0=n.catch(5),d.Z.error("could not create mailbox ".concat(o),{error:n.t0}),n.t0;case 14:return n.prev=14,e.editing=!1,e.showSaving=!1,n.finish(14);case 18:d.Z.info("mailbox ".concat(o," created")),e.showSubMailboxes=!0;case 20:case"end":return n.stop()}}),n,null,[[5,10,14,18]])})))()},openCreateMailbox:function(){this.editing=!0,this.showSaving=!1},markAsRead:function(){var t=this;this.loadingMarkAsRead=!0,this.$store.dispatch("markMailboxRead",{accountId:this.account.id,mailboxId:this.mailbox.databaseId}).then((function(){return d.Z.info("mailbox ".concat(t.mailbox.databaseId," marked as read"))})).catch((function(e){return d.Z.error("could not mark mailbox ".concat(t.mailbox.databaseId," as read"),{error:e})})).then((function(){return t.loadingMarkAsRead=!1}))},changeFolderSubscription:function(t){var e=this;return Vn(Hn().mark((function n(){return Hn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.changeSubscription=!0,n.next=4,e.$store.dispatch("changeMailboxSubscription",{mailbox:e.mailbox,subscribed:t});case 4:n.next=10;break;case 6:throw n.prev=6,n.t0=n.catch(0),d.Z.error("could not update subscription of mailbox ".concat(e.mailbox.databaseId),{error:n.t0}),n.t0;case 10:return n.prev=10,e.changeSubscription=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,6,10,13]])})))()},changeSyncInBackground:function(t){var e=this;return Vn(Hn().mark((function n(){return Hn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.changingSyncInBackground=!0,n.next=4,e.$store.dispatch("patchMailbox",{mailbox:e.mailbox,attributes:{syncInBackground:t}});case 4:n.next=10;break;case 6:throw n.prev=6,n.t0=n.catch(0),d.Z.error("could not update background sync flag of mailbox ".concat(e.mailbox.databaseId),{error:n.t0}),n.t0;case 10:return n.prev=10,e.changingSyncInBackground=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,6,10,13]])})))()},clearCache:function(){var t=this;return Vn(Hn().mark((function e(){return Hn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.clearingCache=!0,d.Z.debug("clearing message cache",{accountId:t.account.id,mailboxId:t.mailbox.databaseId}),e.next=5,(0,In.LK)(t.account.id,t.mailbox.databaseId);case 5:window.location.reload(!1);case 6:return e.prev=6,t.clearCache=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})))()},clearMailbox:function(){var e=this,n=this.mailbox.databaseId;OC.dialogs.confirmDestructive(t("mail","All messages in mailbox will be deleted."),t("mail","Clear mailbox {name}",{name:this.mailbox.displayName}),{type:OC.dialogs.YES_NO_BUTTONS,confirm:t("mail","Clear mailbox"),confirmClasses:"error",cancel:t("mail","Cancel")},(function(t){if(t)return e.$store.dispatch("clearMailbox",{mailbox:e.mailbox}).then((function(){d.Z.info("mailbox ".concat(n," cleared"))})).catch((function(t){return d.Z.error("could not clear mailbox",{error:t})}))}))},deleteMailbox:function(){var e=this,n=this.mailbox.databaseId;d.Z.info("delete mailbox",{mailbox:this.mailbox}),OC.dialogs.confirmDestructive(t("mail","The mailbox and all messages in it will be deleted."),t("mail","Delete mailbox"),{type:OC.dialogs.YES_NO_BUTTONS,confirm:t("mail","Delete mailbox {name}",{name:this.mailbox.displayName}),confirmClasses:"error",cancel:t("mail","Cancel")},(function(t){if(t)return e.$store.dispatch("deleteMailbox",{mailbox:e.mailbox}).then((function(){d.Z.info("mailbox ".concat(n," deleted"))})).catch((function(t){return d.Z.error("could not delete mailbox",{error:t})}))}))},renameMailbox:function(){var e=this;return Vn(Hn().mark((function n(){return Hn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.renameInput=!1,e.showSaving=!1,n.prev=2,n.next=5,e.$store.dispatch("renameMailbox",{account:e.account,mailbox:e.mailbox,newName:e.mailboxName});case 5:e.renameLabel=!0,e.renameInput=!1,e.showSaving=!1,n.next=17;break;case 10:n.prev=10,n.t0=n.catch(2),(0,kt.showInfo)(t("mail","An error occurred, unable to rename the mailbox.")),console.error(n.t0),e.renameLabel=!1,e.renameInput=!1,e.showSaving=!0;case 17:case"end":return n.stop()}}),n,null,[[2,10]])})))()},openRenameInput:function(){this.renameLabel=!1,this.renameInput=!0,this.showSaving=!1},onOpenMoveModal:function(){this.showMoveModal=!0},onCloseMoveModal:function(){this.showMoveModal=!1},onDragStart:function(t){var e=t.accountId;e===this.mailbox.accountId&&(this.$store.commit("expandAccount",e),this.showSubMailboxes=!0)},onDragEnd:function(t){t.accountId===this.mailbox.accountId&&(this.showSubMailboxes=!1)},onEnvelopesMoved:function(t){var e=this,n=t.mailboxId,r=t.movedEnvelopes;if(this.mailbox.databaseId===n){var o,i=r.find((function(t){return t.envelopeId===e.$route.params.threadId}));"message"===this.$route.name&&i&&this.$router.push({name:"mailbox",params:{mailboxId:this.$route.params.mailboxId,filter:null===(o=this.$route.params)||void 0===o?void 0:o.filter}})}}}},Jn=r(7064),Xn={};Xn.styleTagTransform=k(),Xn.setAttributes=w(),Xn.insert=A().bind(null,"head"),Xn.domAPI=y(),Xn.insertStyleElement=_(),v()(Jn.Z,Xn),Jn.Z&&Jn.Z.locals&&Jn.Z.locals;var tr=(0,P.Z)(Wn,(function(){var t=this,e=t._self._c;return t.visible?e("AppNavigationItem",{directives:[{name:"droppable-mailbox",rawName:"v-droppable-mailbox",value:{mailboxId:t.mailbox.databaseId,accountId:t.mailbox.accountId,isValidDropTarget:t.isValidDropTarget},expression:"{\n\t\tmailboxId: mailbox.databaseId,\n\t\taccountId: mailbox.accountId,\n\t\tisValidDropTarget,\n\t}"}],key:t.genId(t.mailbox),attrs:{id:t.genId(t.mailbox),"allow-collapse":!0,"menu-open":t.menuOpen,"force-menu":!0,title:t.title,to:t.to,open:t.showSubMailboxes},on:{"update:menuOpen":[function(e){t.menuOpen=e},t.onMenuToggle],"update:menu-open":function(e){t.menuOpen=e},"update:open":function(e){t.showSubMailboxes=e}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("div",{staticClass:"sidebar-opacity-icon"},[t.mailbox.isPriorityInbox?e("ImportantIcon",{attrs:{size:20}}):t.mailbox.id===t.UNIFIED_INBOX_ID?e("IconAllInboxes",{attrs:{size:20}}):"inbox"!==t.mailbox.specialRole||t.mailbox.isPriorityInbox||"starred"===t.filter?"starred"===t.filter?e("IconFavorite",{attrs:{size:20}}):"drafts"===t.mailbox.specialRole?e("IconDraft",{attrs:{size:20}}):"sent"===t.mailbox.specialRole?e("IconSend",{attrs:{size:20}}):"archive"===t.mailbox.specialRole?e("IconArchive",{attrs:{size:20}}):"trash"===t.mailbox.specialRole?e("IconDelete",{attrs:{size:20}}):e("IconFolder",{attrs:{size:20}}):e("IconInbox",{attrs:{size:20}})],1)]},proxy:!0}],null,!1,3545748813)},[t._v(" "),e("template",{slot:"actions"},[t.account.isUnified||"flagged"===t.mailbox.specialRole?t._e():e("ActionText",{attrs:{title:t.mailbox.name},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconInfo",{attrs:{title:t.statsText,size:20}})]},proxy:!0}],null,!1,3059915399)},[t._v("\n\t\t\t"+t._s(t.statsText)+"\n\t\t")]),t._v(" "),"flagged"===t.mailbox.specialRole||t.account.isUnified?t._e():e("ActionButton",{attrs:{title:t.t("mail","Mark all as read"),disabled:t.loadingMarkAsRead},on:{click:t.markAsRead},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconEmailCheck",{attrs:{title:t.t("mail","Mark all messages of this mailbox as read"),size:20}})]},proxy:!0}],null,!1,1600378416)},[t._v("\n\t\t\t"+t._s(t.t("mail","Mark all messages of this mailbox as read"))+"\n\t\t")]),t._v(" "),t.editing||t.account.isUnified||!t.hasDelimiter||"flagged"===t.mailbox.specialRole?t._e():e("ActionButton",{on:{click:t.openCreateMailbox},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderAdd",{attrs:{title:t.t("mail","Add submailbox"),size:20}})]},proxy:!0}],null,!1,3855968907)},[t._v("\n\t\t\t"+t._s(t.t("mail","Add submailbox"))+"\n\t\t")]),t._v(" "),t.editing?e("ActionInput",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.createMailbox.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderAdd",{attrs:{title:t.t("mail","Add submailbox"),size:20}})]},proxy:!0}],null,!1,3855968907)}):t._e(),t._v(" "),!t.renameLabel||t.hasSubMailboxes||t.account.isUnified?t._e():e("ActionButton",{on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.openRenameInput.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderRename",{attrs:{title:t.t("mail","Edit name"),size:20}})]},proxy:!0}],null,!1,2185581176)},[t._v("\n\t\t\t"+t._s(t.t("mail","Edit name"))+"\n\t\t")]),t._v(" "),t.renameInput?e("ActionInput",{attrs:{value:t.mailboxName},on:{"update:value":function(e){t.mailboxName=e},submit:function(e){return e.preventDefault(),e.stopPropagation(),t.renameMailbox.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderRename",{attrs:{title:t.t("mail","Edit name"),size:20}})]},proxy:!0}],null,!1,2185581176)}):t._e(),t._v(" "),t.showSaving?e("ActionText",{scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconLoading",{attrs:{size:20}})]},proxy:!0}],null,!1,3081367109)},[t._v("\n\t\t\t"+t._s(t.t("mail","Saving"))+"\n\t\t")]):t._e(),t._v(" "),t.account.isUnified||!t.hasDelimiter||t.mailbox.specialRole||t.hasSubMailboxes?t._e():e("ActionButton",{attrs:{id:t.genId(t.mailbox),"close-after-click":!0},on:{click:function(e){return e.preventDefault(),t.onOpenMoveModal.apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconExternal",{attrs:{title:t.t("mail","Move"),size:20}})]},proxy:!0}],null,!1,2980341929)},[t._v("\n\t\t\t"+t._s(t.t("mail","Move"))+"\n\t\t")]),t._v(" "),t.debug&&!t.account.isUnified&&"flagged"!==t.mailbox.specialRole?e("ActionButton",{attrs:{title:t.t("mail","Clear cache"),disabled:t.clearingCache},on:{click:t.clearCache},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconFolderSync",{attrs:{title:t.t("mail","Clear locally cached data, in case there are issues with synchronization."),size:20}})]},proxy:!0}],null,!1,2650797150)},[t._v("\n\t\t\t"+t._s(t.t("mail","Clear locally cached data, in case there are issues with synchronization."))+"\n\t\t")]):t._e(),t._v(" "),t.notVirtual?e("ActionCheckbox",{attrs:{checked:t.isSubscribed,disabled:t.changeSubscription},on:{"update:checked":t.changeFolderSubscription}},[t._v("\n\t\t\t"+t._s(t.t("mail","Subscribed"))+"\n\t\t")]):t._e(),t._v(" "),t.notVirtual&&t.notInbox?e("ActionCheckbox",{attrs:{checked:t.mailbox.syncInBackground,disabled:t.changingSyncInBackground},on:{"update:checked":t.changeSyncInBackground}},[t._v("\n\t\t\t"+t._s(t.t("mail","Sync in background"))+"\n\t\t")]):t._e(),t._v(" "),"flagged"===t.mailbox.specialRole||t.account.isUnified?t._e():e("ActionButton",{attrs:{"close-after-click":!0},on:{click:t.clearMailbox},scopedSlots:t._u([{key:"icon",fn:function(){return[e("EraserVariant",{attrs:{size:20}})]},proxy:!0}],null,!1,3994454445)},[t._v("\n\t\t\t"+t._s(t.t("mail","Clear mailbox"))+"\n\t\t")]),t._v(" "),t.account.isUnified||t.mailbox.specialRole||t.hasSubMailboxes?t._e():e("ActionButton",{on:{click:t.deleteMailbox},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconDelete",{attrs:{title:t.t("mail","Delete mailbox"),size:20}})]},proxy:!0}],null,!1,3732234905)},[t._v("\n\t\t\t"+t._s(t.t("mail","Delete mailbox"))+"\n\t\t")])],1),t._v(" "),t.showUnreadCounter&&t.subCounter?e("CounterBubble",{attrs:{slot:"counter"},slot:"counter"},[t._v("\n\t\t"+t._s(t.mailbox.unread)+"("+t._s(t.subCounter)+")\n\t")]):t.showUnreadCounter?e("CounterBubble",{attrs:{slot:"counter"},slot:"counter"},[t._v("\n\t\t"+t._s(t.mailbox.unread)+"\n\t")]):t._e(),t._v(" "),e("template",{slot:"extra"},[t.showMoveModal?e("MoveMailboxModal",{attrs:{account:t.account,mailbox:t.mailbox},on:{close:t.onCloseMoveModal}}):t._e()],1),t._v(" "),t._l(t.subMailboxes,(function(n){return e("NavigationMailbox",{key:t.genId(n),attrs:{account:t.account,mailbox:n}})}))],2):t._e()}),[],!1,null,"28214da8",null),er=tr.exports,nr=r(71909),rr={name:"NavigationOutbox",components:{AppNavigationItem:o.tn,CounterBubble:o.JN,IconOutbox:nr.Z},computed:{count:function(){return this.$store.getters["outbox/getAllMessages"].length},to:function(){return{name:"outbox"}}}},or=r(61390),ir={};ir.styleTagTransform=k(),ir.setAttributes=w(),ir.insert=A().bind(null,"head"),ir.domAPI=y(),ir.insertStyleElement=_(),v()(or.Z,ir),or.Z&&or.Z.locals&&or.Z.locals;var ar=(0,P.Z)(rr,(function(){var t=this,e=t._self._c;return e("AppNavigationItem",{key:"navigation-outbox",attrs:{id:"navigation-outbox",title:t.t("mail","Outbox"),to:t.to},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconOutbox",{staticClass:"outbox-opacity-icon",attrs:{size:20}})]},proxy:!0},{key:"counter",fn:function(){return[t.count?e("CounterBubble",[t._v("\n\t\t\t"+t._s(t.count)+"\n\t\t")]):t._e()]},proxy:!0}])})}),[],!1,null,"1ff8c983",null).exports,sr=r(99270),cr=r(41447),lr={name:"KeyboardShortcuts",components:{Modal:o.Jc}},ur=r(21675),dr={};dr.styleTagTransform=k(),dr.setAttributes=w(),dr.insert=A().bind(null,"head"),dr.domAPI=y(),dr.insertStyleElement=_(),v()(ur.Z,dr),ur.Z&&ur.Z.locals&&ur.Z.locals;var fr=(0,P.Z)(lr,(function(){var t=this,e=t._self._c;return e("Modal",{attrs:{size:"large",title:t.t("mail","Keyboard shortcut")},on:{close:function(e){return t.$emit("close")}}},[e("h2",[t._v(t._s(t.t("mail","Keyboard shortcuts")))]),t._v(" "),e("p",[t._v(t._s(t.t("mail","Speed up your Mail experience with these quick shortcuts.")))]),t._v(" "),e("dl",[e("div",[e("dt",[e("kbd",[t._v("C")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Compose new message")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Newer message")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Older message")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("S")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Toggle star")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("U")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Toggle unread")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("Del")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Delete")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("Ctrl")]),t._v(" + "),e("kbd",[t._v("F")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Search")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("Ctrl")]),t._v(" + "),e("kbd",[t._v("Enter")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Send")))])]),t._v(" "),e("div",[e("dt",[e("kbd",[t._v("R")])]),t._v(" "),e("dd",[t._v(t._s(t.t("mail","Refresh")))])])])])}),[],!1,null,"4d8504c8",null).exports;function pr(t){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(t)}function hr(){hr=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==pr(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function mr(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var vr={name:"AppSettingsMenu",components:{ButtonVue:o.P2,KeyboardShortcuts:fr,IconInfo:Re.Z,IconEmail:cr.Z,IconAdd:sr.Z,IconLoading:o.lb},data:function(){return{loadingAvatarSettings:!1,optOutSettingsText:t("mail","Allow the app to collect data about your interactions. Based on this data, the app will adapt to your preferences. The data will only be stored locally."),loadingOptOutSettings:!1,replySettingsText:t("mail","Put my text to the bottom of a reply instead of on top of it."),loadingReplySettings:!1,displayKeyboardShortcuts:!1,autoTaggingText:t("mail","Automatically classify importance of new email"),toggleAutoTagging:!1}},computed:{useBottomReplies:function(){return"bottom"===this.$store.getters.getPreference("reply-mode","top")},useExternalAvatars:function(){return"true"===this.$store.getters.getPreference("external-avatars","true")},useDataCollection:function(){return"true"===this.$store.getters.getPreference("collect-data","true")},useAutoTagging:function(){return"true"===this.$store.getters.getPreference("tag-classified-messages","true")}},methods:{onToggleButtonReplies:function(t){var e=this;this.loadingReplySettings=!0,this.$store.dispatch("savePreference",{key:"reply-mode",value:t.target.checked?"bottom":"top"}).catch((function(t){return d.Z.error("could not save preferences",{error:t})})).then((function(){e.loadingReplySettings=!1}))},onToggleExternalAvatars:function(t){var e=this;this.loadingAvatarSettings=!0,this.$store.dispatch("savePreference",{key:"external-avatars",value:t.target.checked?"true":"false"}).catch((function(t){return d.Z.error("could not save preferences",{error:t})})).then((function(){e.loadingAvatarSettings=!1}))},onToggleCollectData:function(t){var e=this;this.loadingOptOutSettings=!0,this.$store.dispatch("savePreference",{key:"collect-data",value:t.target.checked?"true":"false"}).catch((function(t){return d.Z.error("could not save preferences",{error:t})})).then((function(){e.loadingOptOutSettings=!1}))},onToggleAutoTagging:function(e){var n,r=this;return(n=hr().mark((function n(){return hr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.toggleAutoTagging=!0,n.prev=1,n.next=4,r.$store.dispatch("savePreference",{key:"tag-classified-messages",value:e.target.checked?"true":"false"});case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),d.Z.error("could not save preferences",{error:n.t0}),(0,kt.showError)(t("mail","Could not update preference"));case 10:return n.prev=10,r.toggleAutoTagging=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[1,6,10,13]])})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){mr(i,r,o,a,s,"next",t)}function s(t){mr(i,r,o,a,s,"throw",t)}a(void 0)}))})()},registerProtocolHandler:function(){if(window.navigator.registerProtocolHandler){var t=window.location.protocol+"//"+window.location.host+(0,a.generateUrl)("apps/mail/compose?uri=%s");try{window.navigator.registerProtocolHandler("mailto",t,OC.theme.name+" Mail")}catch(t){d.Z.error("could not register protocol handler",{err:t})}}},showKeyboardShortcuts:function(){this.displayKeyboardShortcuts=!0},closeKeyboardShortcuts:function(){this.displayKeyboardShortcuts=!1},toggleKeyboardShortcuts:function(){this.displayKeyboardShortcuts=!this.displayKeyboardShortcuts}}},gr=vr,yr=r(67270),br={};br.styleTagTransform=k(),br.setAttributes=w(),br.insert=A().bind(null,"head"),br.domAPI=y(),br.insertStyleElement=_(),v()(yr.Z,br),yr.Z&&yr.Z.locals&&yr.Z.locals;var Ar=(0,P.Z)(gr,(function(){var t=this,e=t._self._c;return e("div",[e("router-link",{staticClass:"app-settings-button button primary new-button",attrs:{to:"/setup"}},[e("IconAdd",{attrs:{size:20}}),t._v("\n\t\t"+t._s(t.t("mail","Add mail account"))+"\n\t")],1),t._v(" "),t.loadingOptOutSettings?e("p",{staticClass:"app-settings"},[e("IconLoading",{attrs:{size:20}}),t._v("\n\t\t"+t._s(t.optOutSettingsText)+"\n\t")],1):e("p",{staticClass:"app-settings"},[e("input",{staticClass:"checkbox",attrs:{id:"data-collection-toggle",type:"checkbox"},domProps:{checked:t.useDataCollection},on:{change:t.onToggleCollectData}}),t._v(" "),e("label",{attrs:{for:"data-collection-toggle"}},[t._v(t._s(t.optOutSettingsText))])]),t._v(" "),t.toggleAutoTagging?e("p",{staticClass:"app-settings"},[e("IconLoading",{attrs:{size:20}}),t._v("\n\t\t"+t._s(t.autoTaggingText)+"\n\t")],1):e("p",{staticClass:"app-settings"},[e("input",{staticClass:"checkbox",attrs:{id:"auto-tagging-toggle",type:"checkbox"},domProps:{checked:t.useAutoTagging},on:{change:t.onToggleAutoTagging}}),t._v(" "),e("label",{attrs:{for:"auto-tagging-toggle"}},[t._v(t._s(t.autoTaggingText))])]),t._v(" "),t.loadingAvatarSettings?e("p",{staticClass:"app-settings avatar-settings"},[e("IconLoading",{attrs:{size:20}}),t._v("\n\t\t"+t._s(t.t("mail","Use Gravatar and favicon avatars"))+"\n\t")],1):e("p",{staticClass:"app-settings"},[e("input",{staticClass:"checkbox",attrs:{id:"gravatar-enabled",type:"checkbox"},domProps:{checked:t.useExternalAvatars},on:{change:t.onToggleExternalAvatars}}),t._v(" "),e("label",{attrs:{for:"gravatar-enabled"}},[t._v(t._s(t.t("mail","Use Gravatar and favicon avatars")))])]),t._v(" "),t.loadingReplySettings?e("p",{staticClass:"app-settings reply-settings"},[e("IconLoading",{attrs:{size:20}}),t._v("\n\t\t"+t._s(t.replySettingsText)+"\n\t")],1):e("p",{staticClass:"app-settings"},[e("input",{staticClass:"checkbox",attrs:{id:"bottom-reply-enabled",type:"checkbox"},domProps:{checked:t.useBottomReplies},on:{change:t.onToggleButtonReplies}}),t._v(" "),e("label",{attrs:{for:"bottom-reply-enabled"}},[t._v(t._s(t.replySettingsText))])]),t._v(" "),e("p",[e("ButtonVue",{staticClass:"app-settings-button",attrs:{type:"secondary"},on:{click:t.registerProtocolHandler},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconEmail",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t\t"+t._s(t.t("mail","Register as application for mail links"))+"\n\t\t")])],1),t._v(" "),e("ButtonVue",{staticClass:"app-settings-button",attrs:{type:"secondary"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.showKeyboardShortcuts.apply(null,arguments)},shortkey:t.toggleKeyboardShortcuts},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconInfo",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.t("mail","Show keyboard shortcuts"))+"\n\t")]),t._v(" "),t.displayKeyboardShortcuts?e("KeyboardShortcuts",{on:{close:t.closeKeyboardShortcuts}}):t._e(),t._v(" "),e("p",{staticClass:"mailvelope-section"},[t._v("\n\t\t"+t._s(t.t("mail","Looking for a way to encrypt your emails?"))+"\n\t")]),t._v(" "),e("a",{attrs:{href:"https://www.mailvelope.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("\n\t\t"+t._s(t.t("mail","Install Mailvelope browser extension here"))+"\n\t")])],1)}),[],!1,null,"c3574dec",null),xr=Ar.exports,wr={name:"Navigation",components:{AppNavigation:o.yS,AppNavigationSettings:o.AR,AppNavigationSpacer:o.NI,AppSettingsMenu:xr,NavigationAccount:en,NavigationAccountExpandCollapse:un,NavigationMailbox:er,NavigationOutbox:ar,IconSetting:qe.default},data:function(){return{refreshing:!1}},computed:{menu:function(){var t=this;return this.$store.getters.accounts.filter((function(t){return t.id!==Pn.y9})).map((function(e){var n=t.$store.getters.getMailboxes(e.id),r=n.filter((function(n){return t.isCollapsed(e,n)})).length>1;return{id:e.id,account:e,mailboxes:n,isCollapsible:r}}))},unifiedAccount:function(){return this.$store.getters.getAccount(Pn.y9)},unifiedMailboxes:function(){return this.$store.getters.getMailboxes(Pn.y9)}},methods:{isCollapsed:function(t,e){return"inbox"!==e.specialRole&&e.databaseId!==t.draftsMailboxId&&e.databaseId!==t.sentMailboxId&&e.databaseId!==t.trashMailboxId},isFirst:function(t){return t===this.$store.getters.accounts[1]},isLast:function(t){var e=this.$store.getters.accounts;return t===e[e.length-1]}}},Cr=r(24307),_r={};_r.styleTagTransform=k(),_r.setAttributes=w(),_r.insert=A().bind(null,"head"),_r.domAPI=y(),_r.insertStyleElement=_(),v()(Cr.Z,_r),Cr.Z&&Cr.Z.locals&&Cr.Z.locals;var Sr=(0,P.Z)(wr,(function(){var t=this,e=t._self._c;return e("AppNavigation",{scopedSlots:t._u([{key:"list",fn:function(){return[t._l(t.unifiedMailboxes,(function(n){return e("NavigationMailbox",{key:"mailbox-"+n.databaseId,attrs:{account:t.unifiedAccount,mailbox:n}})})),t._v(" "),e("NavigationOutbox"),t._v(" "),e("AppNavigationSpacer"),t._v(" "),t._l(t.menu,(function(n){return[n.account?e("NavigationAccount",{key:n.account.id,attrs:{account:n.account,"first-mailbox":n.mailboxes[0],"is-first":t.isFirst(n.account),"is-last":t.isLast(n.account)}}):t._e(),t._v(" "),t._l(n.mailboxes,(function(r){return[e("NavigationMailbox",{directives:[{name:"show",rawName:"v-show",value:!n.isCollapsible||!n.account.collapsed||!t.isCollapsed(n.account,r),expression:"\n\t\t\t\t\t\t!group.isCollapsible ||\n\t\t\t\t\t\t\t!group.account.collapsed ||\n\t\t\t\t\t\t\t!isCollapsed(group.account, item)\n\t\t\t\t\t"}],key:"mailbox-"+r.databaseId,attrs:{account:n.account,mailbox:r}}),t._v(" "),n.account.isUnified||"inbox"!==r.specialRole?t._e():e("NavigationMailbox",{key:r.databaseId+"-starred",attrs:{account:n.account,mailbox:r,filter:"starred"}})]})),t._v(" "),!n.account.isUnified&&n.isCollapsible?e("NavigationAccountExpandCollapse",{key:"collapse-"+n.account.id,attrs:{account:n.account}}):t._e(),t._v(" "),e("AppNavigationSpacer",{key:"spacer-"+n.account.id})]}))]},proxy:!0},{key:"footer",fn:function(){return[e("AppNavigationSettings",{attrs:{title:t.t("mail","Mail settings")},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconSetting",{attrs:{size:20}})]},proxy:!0}])},[t._v(" "),e("AppSettingsMenu")],1)]},proxy:!0}])})}),[],!1,null,"f8b22a90",null).exports},34931:function(t,e,n){"use strict";n.d(e,{Z:function(){return mt}});var r=n(70669),o=n.n(r),i=n(68297),a=n(2870),s=n(3418),c=n(66769),l=n(68484),u=n(70941),d=n(60412),f=n(3211),p=n(33324),h=n(23022),m=n(11349),v=n(18461),g=n(59641),y=n(11130);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function C(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(r);if(o){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return C(this,t)});function a(){return A(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"init",value:function(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("insertSignature",new y.ZP(this.editor))}},{key:"_defineSchema",value:function(){this.editor.model.schema.register("signature",{inheritAllFrom:"$container"})}},{key:"_defineConverters",value:function(){this.editor.conversion.elementToElement({model:"signature",view:{name:"div",classes:"signature"}})}}])&&x(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(g.Z),k=n(87332);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function O(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=M(r);if(o){var n=M(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return O(this,t)});function a(){return L(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"init",value:function(){this._defineSchema(),this._defineConverters()}},{key:"_defineSchema",value:function(){this.editor.model.schema.register("quote",{inheritAllFrom:"$container"})}},{key:"_defineConverters",value:function(){this.editor.conversion.elementToElement({model:"quote",view:{name:"div",classes:"quote"}})}}])&&P(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(g.Z),T=n(21876),N=n(54268),B=n(69587),D=n(20971),Z=n(99952);function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function q(t,e){if(e&&("object"===F(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}var H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(s,t);var e,n,r,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(o);if(i){var n=z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return q(this,t)});function s(){return U(this,s),a.apply(this,arguments)}return e=s,r=[{key:"requires",get:function(){return[Z.n]}}],(n=[{key:"init",value:function(){this._overwriteParagraphConversion()}},{key:"_overwriteParagraphConversion",value:function(){this.editor.conversion.elementToElement({model:"paragraph",view:{name:"p",styles:{margin:0}},converterPriority:"high"})}}])&&G(e.prototype,n),r&&G(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(g.Z),$=n(9944),V=n(89177);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function K(){K=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function f(){}function p(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=p.prototype=d.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Y(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=p,s(g,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Q(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var W={name:"TextEditor",components:{ckeditor:o().component},props:{value:{type:String,required:!0},html:{type:Boolean,default:!1},placeholder:{type:String,default:""},focus:{type:Boolean,default:!1},bus:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){var t=[s.Z,d.Z,S,j],e=["undo","redo"];return this.html&&(t.push.apply(t,[f.Z,i.Z,l.Z,p.Z,c.Z,h.Z,m.Z,u.Z,v.Z,k.Z,N.Z,D.Z,T.Z,B.Z,H]),e.unshift.apply(e,["heading","fontFamily","fontSize","bold","italic","fontColor","imageUpload","alignment","bulletedList","numberedList","blockquote","fontBackgroundColor","strikethrough","link","removeFormat"])),{ready:!1,editor:a.Z,config:{placeholder:this.placeholder,plugins:t,toolbar:{items:e},language:"en"}}},beforeMount:function(){this.loadEditorTranslations((0,$.getLanguage)())},methods:{loadEditorTranslations:function(t){var e,r=this;return(e=K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("en"!==t){e.next=2;break}return e.abrupt("return",r.showEditor("en"));case 2:return e.prev=2,V.Z.debug("loading ".concat(t," translations for CKEditor")),e.next=6,n(72749)("./".concat(t));case 6:r.showEditor(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),V.Z.error('could not find CKEditor translations for "'.concat(t,'"'),{error:e.t0}),r.showEditor("en");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){Q(i,r,o,a,s,"next",t)}function s(t){Q(i,r,o,a,s,"throw",t)}a(void 0)}))})()},showEditor:function(t){V.Z.debug('using "'.concat(t,'" as CKEditor language')),this.config.language=t,this.ready=!0},onEditorReady:function(t){V.Z.debug("TextEditor is ready",{editor:t}),this.editorInstance=t,this.focus&&(V.Z.debug("focusing TextEditor"),t.editing.view.focus()),this.bus.$on("append-to-body-at-cursor",this.appendToBodyAtCursor),this.$emit("ready",t)},onEditorInput:function(t){V.Z.debug("TextEditor input changed to <".concat(t,">")),this.$emit("input",t)},appendToBodyAtCursor:function(t){var e=this.editorInstance.data.processor.toView(t),n=this.editorInstance.data.toModel(e);this.editorInstance.model.insertContent(n)},editorExecute:function(t){if(!this.editorInstance)throw new Error("Impossible to execute a command before editor is ready.");for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this.editorInstance).execute.apply(e,[t].concat(r))}}},J=W,X=n(93379),tt=n.n(X),et=n(7795),nt=n.n(et),rt=n(90569),ot=n.n(rt),it=n(3565),at=n.n(it),st=n(19216),ct=n.n(st),lt=n(44589),ut=n.n(lt),dt=n(98136),ft={};ft.styleTagTransform=ut(),ft.setAttributes=at(),ft.insert=ot().bind(null,"head"),ft.domAPI=nt(),ft.insertStyleElement=ct(),tt()(dt.Z,ft),dt.Z&&dt.Z.locals&&dt.Z.locals;var pt=n(87559),ht={};ht.styleTagTransform=ut(),ht.setAttributes=at(),ht.insert=ot().bind(null,"head"),ht.domAPI=nt(),ht.insertStyleElement=ct(),tt()(pt.Z,ht),pt.Z&&pt.Z.locals&&pt.Z.locals;var mt=(0,n(51900).Z)(J,(function(){var t=this,e=t._self._c;return t.ready?e("ckeditor",{attrs:{value:t.value,config:t.config,editor:t.editor,disabled:t.disabled},on:{input:t.onEditorInput,ready:t.onEditorReady}}):t._e()}),[],!1,null,"53aab316",null).exports},82659:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r={name:"ImportantIcon",props:{title:{type:String,default:""},size:{type:Number,default:20},fillColor:{type:String,default:"currentColor"}}},o=(0,n(51900).Z)(r,(function(t,e){return t("span",e._g(e._b({staticClass:"material-design-icon important-icon",class:[e.data.class,e.data.staticClass],attrs:{"aria-hidden":!e.props.title,"aria-label":e.props.title,role:"img"}},"span",e.data.attrs,!1),e.listeners),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.props.fillColor,width:e.props.size,height:e.props.size,viewBox:"0 0 16 16"}},[t("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),e._v(" "),t("path",{attrs:{d:"M2 13h7.8a1.4 1.4 0 001.1-.6L14 8l-3.1-4.4A1.4 1.4 0 009.8 3H2l3.4 5z"}})])])}),[],!0,null,null,null).exports},61e3:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAgMAAAC5YVYYAAAACVBMVEUAAAD///////9zeKVjAAAAAnRSTlMAuLMp9oYAAAAPSURBVAjXY4CDrJUgBAMAGaECJ9dz3BAAAAAASUVORK5CYII="},45899:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAgMAAAC5YVYYAAAACVBMVEUAAADi4uLh4eHOxeSRAAAAAnRSTlMAuLMp9oYAAAAPSURBVAjXY4CDrJUgBAMAGaECJ9dz3BAAAAAASUVORK5CYII="},42041:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAP1BMVEUAAADj4+Pf39/h4eHh4eHh4eHk5OTh4eHg4ODi4uLh4eHh4eHg4ODh4eHh4eHg4ODh4eHh4eHp6en////h4eFqcyvUAAAAFHRSTlMAOQfy7bgS5NrBvqOIfXNHMSELAgQ/iFsAAAA2SURBVAjXY4AANjYIzcjMAaVFuBkY+RkEWERYmRjYRXjANAOfiIgIFxNIAa8IpxBEi6AwiAQAK2MBd7xY8csAAAAASUVORK5CYII="},25852:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAQlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////8IX9KGAAAAFXRSTlMA8u24NxILB+Tawb6jiH1zRz0xIQIIP3GUAAAAMklEQVQI1y3FtQEAMQDDQD+EGbz/qkEVOpyEOP6PudKjZNSXn4Jm2CKRdBKzSLsFWl8fMG0Bl6Jk1rMAAAAASUVORK5CYII="},4481:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEUAAAD///////////84wDuoAAAAA3RSTlMAyTzPIdReAAAAGUlEQVQI12PAD+b///+Nof7//79gAsLFCwAx/w4blADeeQAAAABJRU5ErkJggg=="},63406:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAADFBMVEUAAADi4uLi4uLh4eE5RQaIAAAAA3RSTlMAyTzPIdReAAAAGUlEQVQI12PAD+b///+Nof7//79gAsLFCwAx/w4blADeeQAAAABJRU5ErkJggg=="},94673:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAXVBMVEUAAADh4eHh4eHh4eHi4uLb29vh4eHh4eHh4eHh4eHh4eHh4eHh4eHi4uLi4uLj4+Pi4uLk5OTo6Ojh4eHh4eHi4uLg4ODg4ODh4eHg4ODh4eHf39/g4OD////h4eEzIk+wAAAAHnRSTlMAzu6/LA3p5eLZx8ONTjYiHRIKooV+YWBaRzEnCANnm5rnAAAAZElEQVQY033P2wqAIAyA4VWaaWrnc/n+j5mbhBjUf7WPoTD47TJb4i5zTr/sRDRHuyFaoWX7uK/RlbctlPEuyI1f4WY9yQINEkf6rzzo8YIzmUFoCs7J1EjeIaa9bXIEmzl8dgOZEAj/+2IvzAAAAABJRU5ErkJggg=="},76935:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAYFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////98JRy6AAAAH3RSTlMAzu4sDenl38fBvo1OMyIdEQrj1cSihX5hYFpHNycIcQOASAAAAF9JREFUGNN9zEcOgDAMRFHTS0LvNfe/JRmHKAIJ/mqeLJn+k9uDtaeUeFnFziGsBucUTirrprfe81RqZ3Bb6hPWeuZwDFOHyf+ig9CCzQ7INBn7bG5kF+QSt13BHNJnF7AaCT4Y+CW7AAAAAElFTkSuQmCC"},71639:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAD1BMVEUAAAD///////////////+PQt5oAAAABHRSTlMAy2EFIuWxUgAAACRJREFUGNNjGBBgJOICBY7KDCoucODEAJSAS6FwUJShGjAQAADBPRGrK2/FhgAAAABJRU5ErkJggg=="},87138:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAAD1BMVEUAAADh4eHg4ODNzc3h4eEYfw2wAAAABHRSTlMAy2EFIuWxUgAAACRJREFUGNNjGBBgJOICBY7KDCoucODEAJSAS6FwUJShGjAQAADBPRGrK2/FhgAAAABJRU5ErkJggg=="},17394:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAUVBMVEUAAADh4eHh4eHh4eHh4eHi4uLi4uLh4eHh4eHh4eHf39/j4+Ph4eHh4eHh4eHg4ODi4uLh4eHh4eHi4uLh4eHh4eHh4eHh4eHh4eH////h4eF3FMFTAAAAGnRSTlMA+/eJhGhfSHE9JBzz5KaQf3pXT0Xbz0I5AYDw8F0AAAB+SURBVCjPrdHbDoMgEEVRKAii1dZe9fz/hxplTiKIT7qfYCWTEEZdUvOwbckNAD2WHeh3brHW5f5EzGQ+iN+b1Gt6KPvtv16Dn6JX9M9ya3/A1yfu5dlyduL6Hec7mXY6ddXLPP2lpABGZ8PWXfYLTJxZekVhhl7eTX24zZPNKXoRC7zQLjUAAAAASUVORK5CYII="},46719:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAWlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////9ZMre9AAAAHXRSTlMA/PiJhGNI9XlEHJB/b2ldV08+Oibk49vPp6QhAYgGBuwAAACCSURBVCjPrdHdDoIwDAXgTWAqCigo/+f9X5OwnoUwtis4V92XNWladUl+rzQPeQJAN2EHxoOnsPn7/oYk8fxBv08Rr/deOH/aZ2Nm8ZJ+s573QGfWKnNuZGzWm3+lv2V3pcU1XQ385/yjmBoM3Z+dXvlbYLLD3ujhTaOM3KaIXvNkFkuSEvYy1LqOAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=mail.866.5f95e3952a400619f9d5.js.map